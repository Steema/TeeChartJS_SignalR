/*
 TeeChart(tm) for JavaScript(tm)
 @fileOverview TeeChart for JavaScript(tm)
 v2.5 July 2018
 Copyright(c) 2012-2018 by Steema Software SL. All Rights Reserved.
 http://www.steema.com

 Licensed with commercial and non-commercial attributes,
 specifically: http://www.steema.com/licensing/html5

 JavaScript is a trademark of Oracle Corporation.
*/
var Tee=Tee||{};
(function(){function p(b,d){return new Tee.Point(b,d)}function H(b,d,a,c){function e(){var e,c;if(a.x==d.x&&a.y==d.y)e=b.x-d.x,c=b.y-d.y;else{e=a.x-d.x;c=a.y-d.y;var g=((b.x-d.x)*e+(b.y-d.y)*c)/(e*e+c*c);0>g?(e=b.x-d.x,c=b.y-d.y):1<g?(e=b.x-a.x,c=b.y-a.y):(e=b.x-(d.x+g*e),c=b.y-(d.y+g*c))}return Math.sqrt(e*e+c*c)}return b.x==d.x&&b.y==d.y||b.x==a.x&&b.y==a.y?!0:Math.abs(e())<=c+1}function s(b,d,a,c){return new Tee.Rectangle(b,d,a,c)}function S(){this.left=this.right=this.top=this.bottom=2;this.apply=
function(b){var d=b.width,a=b.height;b.x+=d*this.left*.01;b.width-=d*Math.min(100,this.left+this.right)*.01;b.y+=a*this.top*.01;b.height-=a*Math.min(100,this.top+this.bottom)*.01}}function T(b,d,a){this.format=a;this.bounds=d;var c=this;d=a.shadow;this.old=new P;this.old.set(d);d.visible=!0;d.color="rgba(0,255,0,0.1)";d.blur=10;d.width=0;d.height=0;this.enabled=!0;a=new Tee.Animation(a.chart,function(a){c.enabled&&(1>a?c.format.shadow.color="rgba(0,255,0,"+a.toString()+")":c.autoHide&&c.restore())});
a.duration=b;a.animate();this.restore=function(){this.format.shadow.set(this.old);this.enabled=!1}}function F(b){this.chart=b;this.visible=!1;this.colors=["white","silver"];this.direction="topbottom";this.stops=null;this.offset={x:0,y:0};this.create=function(b,a){return this.rect(b.x,b.y,b.width,b.height,a)};this.rect=function(b,a,c,e,f){var k;k=this.chart.ctx;var g=k.createLinearGradient;"topbottom"==this.direction?k=g.call(k,b,a,b,a+e):"bottomtop"==this.direction?k=g.call(k,b,a+e,b,a):"leftright"==
this.direction?k=g.call(k,b,a,b+c,a):"rightleft"==this.direction?k=g.call(k,b+c,a,b,a):"radial"==this.direction?(b=b+.5*c+this.offset.x,a=a+.5*e+this.offset.y,c=Math.max(c,e),k=k.createRadialGradient(b,a,0,b,a,c)):k="diagonalup"==this.direction?g.call(k,b,a+e,b+c,a):g.call(k,b,a,b+c,a+e);f&&this.setEndColor(f);c=this.colors;e=c.length;b=(a=this.stops)?a.length:0;if(1<e)for(f=0;f<e;f++)k.addColorStop(b<=f?f/(e-1):a[f],c[f]);else k.addColorStop(0,0<e?c[0]:"white");return k}}function P(b){this.chart=
b;this.visible=!1;this.blur=4;this.color="rgba(80,80,80,0.75)";this.height=this.width=4;this.prepare=function(b){this.visible?(b.shadowBlur=this.blur,b.shadowColor=this.color,b.shadowOffsetX=this.width,b.shadowOffsetY=this.chart.isAndroid?-this.height:this.height):b.shadowColor="transparent"}}function Y(b){this.url="";this.repeat="no-repeat";this.backFill=!1;this.chart=b;this.visible=!0;this.tryDraw=function(d,a,c,e){this.image||(this.image=new Image,this.image.onload=function(){b.draw()});if(""===
this.image.src)b=this.chart,this.image.src=this.url;else if(b.ctx.drawImage)if("repeat"==this.repeat){var f=b.ctx.createPattern(this.image,"repeat");b.ctx.fillStyle=f;b.ctx.fillRect(d,a,c,e)}else b.ctx.drawImage(this.image,d,a,c,e)}}function L(b){this.chart=b;this.fill="black";this.size=1;this.join="round";this.cap="square";this._g=this.dash=null;z?z(this,"gradient",{get:function(){this._g||(this._g=new F(this.chart));return this._g}}):this._g=this.gradient=new F(b);this.prepare=function(b,a){a=a||
this.chart.ctx;var c=this._g;a.strokeStyle=c&&c.visible?c.create(this.chart.bounds):b?b:this.fill;a.lineWidth=this.size;a.lineJoin=this.join;a.lineCap=this.cap;a.shadowColor="transparent";a.setLineDash?a.setLineDash(this.dash||[]):a.mozCurrentTransform?a.mozDash=this.dash:this.chart.isChrome&&(a.webkitLineDash=this.dash)};this.setChart=function(b){this.chart=b;this._g&&(this._g.chart=b)}}function M(b){this.chart=b;this.style="11px Tahoma";this._g=null;z?z(this,"gradient",{get:function(){this._g||
(this._g=new F(this.chart));return this._g}}):this._g=this.gradient=new F(b);this.fill="black";this._sh=null;z?z(this,"shadow",{get:function(){this._sh||(this._sh=new P(this.chart));return this._sh}}):this._sh=this.shadow=new P(b);this._s=null;z?z(this,"stroke",{get:function(){this._s||(this._s=new L(this.chart),this._s.fill="");return this._s}}):(this._s=this.stroke=new L(b),this._s.fill="");this.textAlign="center";this.baseLine="alphabetic"}function Z(b){this.chart=b;this.items=[];this.draw=function(){for(var b=
0,a;a=this.items[b++];)a.active&&a.draw()};this.mousemove=function(b){for(var a=0,c;c=this.items[a++];)c.active&&c.mousemove(b)};this.mousedown=function(b){for(var a=0,c,e=!1;c=this.items[a++];)c.active&&c.mousedown(b)&&(e=!0);return e};this.mouseout=function(){for(var b=0,a;a=this.items[b++];)a.active&&a.mouseout()};this.clicked=function(b){for(var a=this.items.length,c,e=!1;c=this.items[--a];)c.active&&c.clicked(b)&&(e=!0,c.onclick&&(e=c.onclick(c,b.x,b.y)));return e};this.add=function(b){this.items.push(b);
return b}}function $(b){function d(a){var b=a.chart.chartRect,d=a.direction,g="both"===d;c.set(b.x,b.y,b.width,b.height);if(a.old){if(g||"horizontal"===d)0>a.old.x?(c.x=a.chart.oldPos.x+a.old.x,c.width=-a.old.x):(c.x=a.chart.oldPos.x,c.width=a.old.x);if(g||"vertical"===d)0>a.old.y?(c.y=a.chart.oldPos.y+a.old.y,c.height=-a.old.y):(c.y=a.chart.oldPos.y,c.height=a.old.y)}return c}this.chart=b;this.active=!1;this.enabled=!0;this.done=!1;this.direction="both";this.keepAspect=!1;this.mouseButton=0;this.wheel=
{enabled:!1,factor:1};var a=this.format=new Tee.Format(b);a.fill="rgba(255,255,255,0.5)";a.stroke.fill="darkgray";a.stroke.size=2;var c=new s;this.change=function(a){this.old||(this.old=new p);var b=this.chart.oldPos;this.old.x=a.x-b.x;this.keepAspect?(a=this.chart.chartRect,this.old.y=a.height/a.width*this.old.x):this.old.y=a.y-b.y};this.draw=function(){a.rectangle(d(this))};this.apply=function(){if(0>this.old.x||0>this.old.y){if(this.reset(),this.onreset)this.onreset()}else if(d(this),3<c.width&&
3<c.height){var a=this.direction,b="both"===a;this.chart.axes.each(function(){this.horizontal?(b||"horizontal"===a)&&this.calcMinMax(c.x,c.x+c.width):(b||"vertical"===a)&&this.calcMinMax(c.y+c.height,c.y)});return!0}return!1};this.reset=function(){this.chart.axes.each(function(){this.automatic=!0})}}function aa(b){this.chart=b;this.active=!1;this.enabled=!0;this.done=!1;this.mouseButton=2;this.direction="both";this.position=new p(0,0)}function X(b,d){Tee.Annotation.call(this,b);this.transparent=!0;
this._expand=!1;z?z(this,"expand",{get:function(){return this._expand},set:function(a){this._expand=a;this._expand||(a=this.format,a.round.x=8,a.round.y=8,a.round.corners=null,a.stroke.fill="black")}}):this._expand=this.expand=!1;var a=this.format.font,c=a.shadow,e=this.position;c.visible=!0;c.width=2;c.height=2;c.blur=8;a.style="18px Tahoma";a.fill=d;this.padding=4;this.calcRect=function(a){this.resize();var c=this.bounds,d=c.height+(this.transparent?1:2)*this.padding,l=b.chartRect;a?(e.y=l.y,l.automatic&&
l.setTop(l.y+d)):(e.y=l.y+l.height-c.height-this.padding,l.automatic&&(l.height-=d));0>l.height&&(l.height=0);e.x=.5*(b.canvas.width-c.width)};this.tryDraw=function(a){if(this.shouldDraw()){this.calcRect(a);var c=this.bounds,d=this.chart.ctx,l=d.beginParent;this.visual=l?d.beginParent():null;if(this._expand){var h=b.panel.format;e.x=""!==h.stroke.fill?h.stroke.size:0;e.y=a?e.x:b.canvas.height-(h.shadow.visible?h.shadow.height:0)-e.x-c.height;c.width=b.canvas.width-(h.shadow.visible?h.shadow.width:
0)-2*e.x;var m=this.format;m.round.x=h.round.x;m.round.y=h.round.y;m.round.corners=[a,a,!a,!a];m.stroke.fill="";this.transparent=!1}c.x=e.x;c.y=e.y;this.doDraw();l&&d.endParent()}}}function ba(b){var d=this.format=new Tee.Format(b);d.round.x=12;d.round.y=12;d.stroke.size=3;d.gradient.visible=!0;d.gradient.direction="bottomtop";d.shadow.visible=!0;d.stroke.fill="#606060";this.transparent=!!b.__webgl;this.margins=new S;this.clear=function(){var a=b.bounds;b.ctx.clearRect(a.x,a.y,a.width,a.height)};
this.draw=function(){if(this.transparent||b.__webgl)this.clear();else{var a=b.chartRect,c=d.shadow;c.visible&&(a.width-=.5*Math.abs(c.width)+2,a.height-=.5*Math.abs(c.height)+2,0>c.width&&(a.x-=c.width),0>c.height&&(a.y-=c.height));var e=0;""!==d.stroke.fill&&(e=d.stroke.size,1<e&&(e*=.5,a.x+=e,a.y+=e,a.width-=2*e,a.height-=2*e));(c.visible||0<d.round.x||0<d.round.y)&&this.clear();d.rectangle(a);0<e&&(a.x+=e,a.y+=e,a.width-=2*e,a.height-=2*e)}}}function U(b){var d=this.format=new Tee.Format(b);d.fill=
"#E6E6E6";d.stroke.fill="black";d.z=0;d.depth=0;this.visible=!0;this.bounds=new s;this.size=0;this.draw=function(){d.cube(this.bounds);d.draw(b.ctx,null,this.bounds)}}function A(b,d,a){function c(a){this.chart=a;this.stroke=new L(a);this.stroke.cap="butt";this.visible=!0;this.length=4}function e(a){Tee.Annotation.call(this,a);this.padding=4;this.transparent=!0;this.rotation=0;this.format.font.textAlign="center";this.drawIt=function(h,b,c,e){this.format.font.textAlign=h;0===e?(this.position.x=b,this.position.y=
c,this.forceDraw()):(h=a.ctx,h.save(),h.translate(b,c),h.rotate(-e*Math.PI/180),this.position.x=0,this.position.y=0,this.forceDraw(),h.restore())}}function f(a,h){var b=0,c,e=h.split(" "),f;for(f=0;f<e.length;f++)c=a.textWidth(e[f]),c>b&&(b=c);return b}function k(a){return isFinite(a)?10<=a?10*k(.1*a):1>a?.1*k(10*a):2>a?2:5>a?5:10:1}this.chart=b;this.visible=!0;this.inverted=!1;this.horizontal=d;this.otherSide=a;this.bounds=new s;this.position=0;this.format=new Tee.Format(b);this.format.stroke.size=
2;this.format.depth=.2;this.custom=!1;this.z=a?1:0;this.maxLabelDepth=0;this.labels=new function(a,h){this.chart=a;this.format=new Tee.Format(a);this.decimals=2;this.fixedDecimals=!1;this.padding=4;this.separation=10;this.visible=!0;this.rotation=0;this.alternate=!1;this.maxWidth=0;this.wordWrap="no";this.roundFirst=!0;this.labelStyle="auto";this.dateFormat="shortDate";this.checkStyle=function(){var b=this.labelStyle,c=h.firstSeries;this._textlabels=this._text=null;if("auto"==b){if(0<c.data.labels.length&&
c.associatedToAxis(h)&&h.horizontal==c.notmandatory.horizontal&&(this._text=c,1<this.chart.series.items.length&&this.chart.series.items[0]instanceof Tee.Bar&&"sideAll"==this.chart.series.items[0].stacked)){var b=a.series.items,e,f;this._textlabels=this._text.data.labels;for(c=1;f=b[c++];)if(f.visible&&f.associatedToAxis(h))for(e=0;e<f.data.values.length;e++)this._textlabels.push(f.data.labels[e])}}else if("mark"==b||"text"==b)this._text=c};this.formatValueString=function(a){if(this.valueFormat){var h=
Number("1.2").toLocaleString().substr(1,1);a=(1*a).toLocaleString();var b=String(a).split(h);a=b[0];var c="";if(0<this.decimals)for(var e=0;e<this.decimals;e++)c+="0";b=1<b.length?b[1]:"";b=(b+c).substr(0,this.decimals);return 0<b.length?a+h+b:a}return a.toFixed(this.decimals)};this.getLabel=function(b){var c=b|0,e;if(this._text&&c==b){e=this._text.data;e.x&&(c=e.x.indexOf(c));var f=a.series.items,d,k;e=0<f.length&&f[0]instanceof Tee.Bar&&"sideAll"==f[0].stacked?e.labels[b]:e.labels[c];if(!e){for(d=
0;(k=f[d++])&&!(k!=this._text&&k.visible&&k.associatedToAxis(h)&&(e=k.data.labels[c])););void 0===e&&(e="")}}else e=h.dateTime?Date.prototype.format?(new Date(b)).format(this.dateFormat):(new Date(b)).toDateString():this.formatValueString(b);this.ongetlabel&&(e=this.ongetlabel(b,e),this.format.font.prepare());return""+e};this.width=function(a){var h=this.fixedDecimals;this.fixedDecimals=!0;a=this.format.textWidth(this.getLabel(a));this.fixedDecimals=h;return a}}(b,this);var g=this.labels.format.font;
this.scroll=function(a){this.automatic=!1;this.inverted&&(a=-a);this.minimum+=a;this.maximum+=a};d?(g.textAlign="center",g.baseLine=a?"bottom":"top"):(g.textAlign=a?"left":"right",g.baseLine="middle");this.grid=new function(a){this.chart=a;a=this.format=new Tee.Format(a);a.stroke.fill="silver";a.stroke.cap="butt";a.fill="";this.visible=!0;this.lineDash=!1}(b);this.ticks=new c(b);this.innerTicks=new c(b);this.innerTicks.visible=!1;g=this.minorTicks=new c(b);g.visible=!1;g.length=2;g.count=3;e.prototype=
new Tee.Annotation;this.title=new e(b);d||(this.title.rotation=a?270:90);this.automatic=!0;this.increment=this.maximum=this.minimum=0;this.log=!1;this.start=this.endPos=this.startPos=0;this.end=100;this.increm=this.scale=this.axisSize=0;this.minmaxLabelWidth=function(a){var h=this.labels,b=h._text,c=0,e,d,k=this.labels;if(null!==b){d="auto"==h.wordWrap||"yes"==h.wordWrap;k.format.font.prepare();for(var g=0,y=b.data.labels.length;g<y;g++)e=b.data.labels[g],h.ongetlabel&&(e=h.ongetlabel(g,e)),e&&(c=
Math.max(c,d?f(h.format,e):h.format.textWidth(e)))}else c=this.roundMin(),b=this.maximum,c=Math.max(h.width(c),h.width(.5*(c+b))),c=Math.max(c,h.width(1E-7)),c=Math.max(c,h.width(b));if(0==h.rotation){if(this.horizontal&&a||!this.horizontal&&!a)c=k.format.textHeight("Wj")}else c=this.horizontal?a?Math.abs(Math.sin(Math.PI/180*h.rotation)*c):Math.abs(Math.cos(Math.PI/180*h.rotation)*c):a?Math.abs(Math.cos(Math.PI/180*h.rotation)*c):Math.abs(Math.sin(Math.PI/180*h.rotation)*c);c<k.format.textHeight("Wj")&&
(c=k.format.textHeight("Wj"));return c};this.checkRange=function(){this.maximum-this.minimum<this.minAxisRange&&(this.maximum=this.minimum+this.minAxisRange)};this.checkMinMax=function(){var a=this.chart.series,h=this.horizontal;this.automatic&&(this.minimum=h?a.minXValue(this):a.minYValue(this),this.maximum=h?a.maxXValue(this):a.maxYValue(this),this.checkRange())};this.calcAxisScale=function(){var a=this.maximum-this.minimum;0===a?a=1:this.log&&(a=Math.log(a));this.scale=this.axisSize/a};this.calcScale=
function(){var a=this.labels,h;a.format.font.prepare();h=this.minmaxLabelWidth(!1);a.alternate&&(h*=.5);h*=1+.02*a.separation;if(0===this.increment)if(this.maximum==this.minimum)a=1;else{a=this.axisSize/h;b:{h=a;var c,b,e;for(c=0;b=this.chart.series.items[c++];)if(b.visible&&b.sequential&&((e=b.yMandatory)&&this.horizontal||!e&&!this.horizontal)&&b.associatedToAxis(this)&&b.count()<=h){h=!0;break b}h=!1}a=Math.abs(this.maximum-this.minimum)/(a+1);a=h?Math.max(1,a):k(a)}else a=this.increment;this.increm=
a;0>=this.increm?this.increm=.1:0<this.increm&&1E-8>=this.increm&&(this.increm=1E-8)};this.hasAnySeries=function(){var a=this.chart.series.items,h,c;for(h=0;c=a[h++];)if(c.visible&&c.associatedToAxis(this)&&(c.__alwaysDraw||0<c.count()))return a=this.horizontal,c.yMandatory&&(a=!a),this.dateTime=(a=a?c.data.values:c.data.x)&&0<a.length&&a[0]instanceof Date,c;return null};this.drawAxis=function(){var a=this.format,c=this.chart.ctx,b=this.axisPos,e=this.startPos,f=this.endPos,k=20*a.depth;this.chart.aspect.view3d&&
0<k?(b=d?{x:e,y:b-.5*k,width:f-e,height:k}:{x:b-.5*k,y:e,width:k,height:f-e},e=this.z,a.z=e-.5*a.depth,a.cylinder(b,1,!d),a.draw(c,null,b),a.z=e):(c.z=this.z,c.beginPath(),d?(c.moveTo(e,b),c.lineTo(f,b)):(c.moveTo(b,e),c.lineTo(b,f)),a.stroke.prepare(),c.stroke())};this.drawGrids=function(){var c=this.chart.ctx,b,e=this.chart.chartRect,f=this.grid.format,k,g,v,w,y=this.roundMin();if(this.grid.centered)var q=.5*this.increm,y=y-q>=this.minimum?y-q:y+q;var q=this.chart.aspect,x=q.view3d,B=x&&q.orthogonal,
E=x?1:0;c.beginPath();d?(g=this.bounds.y-E,w=a?e.getBottom()-1:e.y+1):(k=this.bounds.x+E,v=a?e.x+1:e.getRight()-1);var p,E=-1;if(""!==f.fill){var e=y,s=f.stroke.fill;for(f.stroke.fill="";e<=this.maximum;)b=this.calc(e),0===E%2&&(d?f.rectangle(p,w,b-p,g-w):f.rectangle(k,p,v-k,b-p)),p=b,e+=this.increm,E++;f.stroke.fill=s;c.fillStyle=""}e=y;B&&(d?(g-=q._orthoy,w-=q._orthoy):(k+=q._orthox,v+=q._orthox));y=f.stroke.dash&&!c.setLineDash&&!c.mozCurrentTransform;for(c.z=x?this.chart.walls.back.format.z-.01:
0;e<=this.maximum;){E=this.calc(e);d?k=v=E:g=w=E;B&&(d?(k+=q._orthox,v+=q._orthox):(g-=q._orthoy,w-=q._orthoy));x&&!this.otherSide&&c.lineZ&&c.lineZ(k,g,0,c.z);if(y){p=c;var E=k,G=g,u=v,s=w;b=void 0;b=[10,5];p.save();var u=u-E,z=s-G,s=Math.sqrt(u*u+z*z),u=Math.atan2(z,u);p.translate(E,G);p.moveTo(0,0);p.rotate(u);G=b.length;u=0;z=!0;for(E=0;s>E;)E+=b[u++%G],E>s&&(E=s),z?p.lineTo(E,0):p.moveTo(E,0),z=!z;p.restore()}else c.moveTo(k,g),c.lineTo(v,w);e+=this.increm}f.stroke.prepare();f.shadow.prepare(c);
c.stroke()};this.roundMin=function(){if(0!==this.increm&&this.labels.roundFirst){var a;a=this.minimum/this.increm;a-=a%1;return this.increm*(0>=this.minimum?a:1+a)}return this.minimum};this.drawTicks=function(c,b,e){var f=this.roundMin(),k=1+c.length,g=1;if(d&&a||!d&&!a)k=-k,g=-1;var k=k*b+this.axisPos,g=g*b+this.axisPos,v,w=1,y=0;0===e?v=this.increm:(w+=e,v=this.increm/w);var q=this.chart.ctx;for(q.beginPath();f<=this.maximum;){if(0===e||0!==y++%w)b=this.calc(f),d?(q.moveTo(b,g),q.lineTo(b,k)):(q.moveTo(g,
b),q.lineTo(k,b));f+=v}c.stroke.prepare();c.z=this.z;q.z=c.z;q.stroke()};this.drawTitle=function(){var a=this.labels,c,b,e=this.title.bounds,f=this.title.rotation,k="center";""!==this.title.text&&(d?(b=this.title.padding,this.ticks.visible&&(b+=this.ticks.length),a.visible&&(a.format.font.prepare(),c=this.maxLabelDepth,a.alternate&&(c*=2),b+=c),c=this.startPos+.5*this.axisSize,this.otherSide&&(b=-b-e.height),b=this.axisPos+b,0===f?c-=.5*e.width:(c+=e.height*(this.otherSide?-.5:.5),this.otherSide||
(b+=1.5*e.height),k=this.otherSide?"near":270===f?"near":"far")):(c=this.title.padding,this.ticks.visible&&(c+=this.ticks.length),a.visible&&(b=a.maxWidth,a.alternate&&(b*=2),c+=b),b=this.startPos+.5*this.axisSize,0===f?(c=this.axisPos+(this.otherSide?c:-c),b-=.5*e.height,k=this.otherSide?"near":"far"):(c+=e.height,c=this.axisPos+(this.otherSide?c:-c),b+=e.width*(this.otherSide?-.5:.5))),this.title.drawIt(k,c,b,f))};this.rotatedWidth=function(a,c){return Math.abs(Math.sin(Math.PI/180*a.rotation)*
c)};this.drawLabel=function(a,c){var b=this.labels,e=b.getLabel(a);c.width=b.format.textWidth(e);c.width>b.maxWidth&&(b.maxWidth=c.width);if(0==b.rotation)this.horizontal?c.x-=.5*c.width:c.y+=.5*c.height;else{var f=this.chart.ctx;f.save();f.translate(c.x,c.y);f.rotate(-Math.PI*b.rotation/180);f.textAlign="right";this.horizontal?(c.x=.5*-this.rotatedWidth(b,c.width),c.y=-(.5*this.rotatedWidth(b,c.height))+3):(c.x=-2,c.y=-8)}"right"==b.format.font.textAlign&&(c.x-=c.width);b.format.z=this.z*this.chart.walls.back.format.z;
b.format.drawText(c,e);0!==b.rotation&&this.chart.ctx.restore()};this.drawLabels=function(){var a=this.roundMin(),c=new s,b=this.axisPos,e=this.labels;e.maxWidth=0;e.format.font.prepare();var f=this.ticks.visible?this.ticks.length:0,f=f+e.padding;this.horizontal?this.otherSide?b-=f:b+=f:this.otherSide?b+=f:b-=f;f=b;c.height=e.format.textHeight("Wj");for(var d=(e=e.alternate)?this.horizontal?-this.minmaxLabelWidth(!0):this.minmaxLabelWidth(!0):0,k;a<=this.maximum;)k=this.calc(a),this.horizontal?(c.x=
k,c.y=b):(c.x=b,c.y=k-.5*c.height),e&&(b=b==f?this.otherSide?f+d:f-d:f),this.drawLabel(a,c),a+=this.increm};this.calc=function(a){a!==a?a=0:this.log?(a-=this.minimum,a=0>=a?0:Math.log(a)*this.scale):a=(a-this.minimum)*this.scale;return this.horizontal?this.inverted?this.endPos-a:this.startPos+a:this.inverted?this.startPos+a:this.endPos-a};this.fromPos=function(a){var c=this.horizontal;this.inverted&&(c=!c);return this.minimum+(c?a-this.startPos:this.endPos-a)/this.scale};this.fromSize=function(a){return a/
this.scale};this.fromSizeCalcIndex=function(a){var c=-1;if(!0==this.dateTime){var b=0,e=0;a=(this.maximum-this.minimum)/this.axisSize*a+this.minimum;for(1<this.chart.series.items[0].data.x.length&&(e=this.chart.series.items[0].data.x[1].getTime()-this.chart.series.items[0].data.x[0].getTime());-1==c&&b<this.chart.series.items[0].data.x.length;)this.chart.series.items[0].data.x[b].getTime()+e/2>a&&a+e/2>this.chart.series.items[0].data.x[b].getTime()?c=b:b++}else if(c=a/this.scale+this.minimum,this.chart.series.items[0].data.values.length<
c||-.5>c)c=-1;return c};this.calcSize=function(a){return Math.abs(this.calc(a)-this.calc(0))};this.calcMinMax=function(a,c){this.automatic=!1;var b=this.fromPos(a),e=this.fromPos(c),f;b>e&&(f=b,b=e,e=f);this.minimum=b;this.maximum=e;this.checkRange()};this.minAxisRange=1E-10;this.setMinMax=function(a,c){this.automatic=!1;this.minimum=a;this.maximum=c;this.checkRange()}}function V(b){function d(a){var c=b.series;return a.showHidden?c.items.length:c.visibleCount()}this.chart=b;this.transparent=!1;var a=
this.format=new Tee.Format(b);a.fill="white";a.round.x=8;a.round.y=8;a.font.baseLine="top";a.shadow.visible=!0;a.z=0;a.depth=.05;this.title=new Tee.Annotation(b);this.title.transparent=!0;this.bounds=new s;this.position="right";this.visible=!0;this.inverted=!1;this.margin=this.padding=5;this.align=0;this.fontColor=!1;var c=this.dividing=new L(b);c.fill="";c.cap="butt";this.over=-1;this.symbol=new function(a){this.chart=a;var c=this.format=new Tee.Format(a),b=c.shadow;b.visible=!0;b.color="silver";
b.width=2;b.height=2;c.depth=.01;this.padding=this.height=this.width=8;this.style="rectangle";this.visible=!0;this.draw=function(b,e,f,h){var d=a.ctx,k;a:{if(b.hover.enabled){var g=a.legend.showValues();if(g&&b.over==e||!g&&0<=b.over){k=b.hover;break a}}k=null}var g=c.fill,m=c.stroke;c.fill=b.legendColor(e);d.z=-.01;switch(this.style){case "rectangle":k&&(c.stroke=k.stroke);this.chart.aspect.view3d?(b={x:f,y:h-.5*this.height-1,width:this.width,height:this.height},g=c.z,e=d.z,c.z=d.z-c.depth,c.cube(b),
c.draw(d,null,b),c.z=g,d.z=e):c.rectangle(f,h-.5*this.height-1,this.width,this.height);break;case "triangle":k&&(c.stroke=k.stroke);c.polygon([new p(f+.5*this.width,h-.5*this.height),new p(f+this.width,h+.5*this.height),new p(f,h+.5*this.height)]);break;case "ellipse":k&&(c.stroke=k.stroke);c.ellipse(f+.5*this.width,h,this.width,this.height);break;default:d.beginPath(),d.moveTo(f,h),d.lineTo(f+this.width,h),k?k.stroke.prepare():c.stroke.prepare(c.fill),d.stroke()}c.fill=g;c.stroke=m}}(b);this.itemHeight=
10;this.innerOff=0;this.textStyle=this.legendStyle="auto";this.hover=new Tee.Format(b);this.hover.enabled=!0;this.hover.font.fill="red";this.totalWidth=function(){var a=h+8,c=this.symbol;c.visible&&(a+=c.width+c.padding);return a};var e=0;this._space=function(){return this.bounds.y+e+this.margin*b.bounds.height*.01};this.availRows=function(){var a=this._space()+.5*this.itemHeight;a||(a=0);return(b.bounds.getBottom()-a)/this.itemHeight|0};this.itemsCount=function(){var a=b.series,c=d(this),e=b.bounds;
if(0===c)return 0;var f=this.legendStyle;if("values"===f&&0<c)c=a.firstVisible().legendCount();else if("auto"===f&&1<c||"series"===f)for(f=0;f<a.items.length;f++)a.items[f].legend.visible||c--;else 1==c&&(c=a.firstVisible().legendCount());this.isVertical()?(.5+c)*this.itemHeight>e.height-this._space()&&(c=this.availRows()):(this.rows=1,a=this.totalWidth(),f=this.calcPadding(e),f=e.width-2*f,c*a>f?(this.perRow=f/a|0,c>this.perRow&&(this.rows=1+(c/this.perRow|0),this.rows*this.itemHeight>e.height-this.bounds.y&&
(this.rows=this.availRows(),c=this.rows*this.perRow))):this.perRow=c);return c};this.showValues=function(){var a=this.legendStyle;return"values"==a||"auto"==a&&1==d(this)};this.itemText=function(a,c){var b=a.legendText(c,this.textStyle,!1,!0);return this.ongettext?this.ongettext(this,a,c,b):b};this.calcItemPos=function(a,c){var b=this.itemHeight,f=this.bounds;c.x=f.x;c.y=f.y+this.innerOff;this.isVertical()?(c.x+=f.width-6-this.innerOff,c.y+=.4*b+a*b+e):(c.x+=this.innerOff+(1+a%this.perRow)*this.totalWidth(),
c.y+=b*((a/this.perRow|0)+.25))};this.calcItemRect=function(a,c){var b=this.itemHeight,f=this.bounds;c.height=b;c.x=f.x;c.y=f.y;this.isVertical()?(c.width=f.width,c.y+=.4*b+a*b+e):(c.width=this.totalWidth(),c.x+=this.innerOff+a%this.perRow*c.width,c.y+=b*((a/this.perRow|0)+.25))};var f=new s;this.mousedown=function(a){if(this.onclick&&-1!==this.over){if(this.showValues())this.onclick(b.series.firstVisible(),this.over);else{a=b.series.items;for(var c=a.length,e=0,f=0;f<c;f++)if(this.showHidden||a[f].visible)if(e==
this.over){this.onclick(a[f],-1);break}else e++}return!0}return!1};this.mousemove=function(a){var c=this.over;if(this.bounds.contains(a))for(var b=this.itemsCount(),e=0;e<b;e++){if(this.calcItemRect(e,f),f.contains(a)){c=e;break}}else c=-1;if(c!=this.over){if(this.onhover)this.onhover(this.over,c);this.over=c;var h=this.chart;window.requestAnimFrame(function(){h.draw()})}this.onclick&&(this.chart.newCursor=-1===c?"default":"pointer")};this.drawSymbol=function(a,c,b){var e=this.symbol;e.draw(a,c,b.x-
h-e.width-e.padding,b.y+.4*this.itemHeight)};var k={x:0,y:0},g=new s,l;this.drawItem=function(c,b,e,f){var d=this.isVertical();this.calcItemPos(e,k);g.x=k.x;g.y=k.y;d?g.y-=this.chart.isMozilla?0:2:this.chart.isMozilla?g.y++:g.y--;var y=a.font.fill;this.over==e?a.font.fill=this.hover.enabled?this.hover.font.fill:y:this.fontColor?a.font.fill=this.showValues()?b.legendColor(e):b.format.fill:b.visible||(a.font.fill="silver");var q=this.chart.ctx;if(f)a.font.textAlign="start",g.x-=m[0],q.textAlign=a.font.textAlign,
a.drawText(g,c);else if(c instanceof Array||(c=[c]),d){f=c.length;for(var d=g.width,p=a.textWidth(" ");f--;)a.font.textAlign=l[f]?"start":"end",g.x-=m[f],q.textAlign=a.font.textAlign,a.drawText(g,c[f]),g.width-=m[f]+p;g.width=d}else a.font.textAlign="start",g.x-=h,q.textAlign=a.font.textAlign,a.drawText(g,c.join(" "));a.font.fill=y;c=!b.isColorEach||this.showValues();this.symbol.visible&&c&&this.drawSymbol(b,e,k);0<e&&""!==this.dividing.fill&&(b=this.bounds,q.beginPath(),this.isVertical()?(q.moveTo(b.x,
g.y-2),q.lineTo(b.getRight(),g.y-2)):(e=g.x-h-4,c=this.symbol,c.visible&&(e-=c.width+c.padding),q.moveTo(e,b.y),q.lineTo(e,b.getBottom())),this.dividing.prepare(),q.stroke())};this.drawSeries=function(a,c){var e=b.series.items[a];return(this.showHidden||e.visible)&&e.legend.visible?(this.drawItem(e.titleText(a),e,c,!0),!0):!1};this.draw=function(){var c=this.itemsCount(),f,d;f=this.title;var k=b.ctx,m,y=this.format.transparency,q=this.isVertical();if(0<c){var p=k.beginParent;this.visual=p?k.beginParent():
null;a.cube(this.bounds);this.transparent||a.draw(k,null,this.bounds);0<y&&(m=k.globalAlpha,k.globalAlpha=(1-y)*m);q&&0<e&&(f.bounds.x=this.bounds.x-4,f.bounds.y=this.bounds.y,f.doDraw());a.font.prepare();g.width=h;g.height=this.itemHeight;if(this.showValues()){q=b.series.firstVisible();d=0;f=c;switch(this.textStyle){case "auto":case "percentlabel":case "valuelabel":l=[!1,!0];break;case "labelpercent":case "labelvalue":l=[!0,!1];break;case "label":l=[!0];break;default:l=[!1]}if(this.inverted)for(;f--;)this.drawItem(this.itemText(q,
f),q,d++);else for(d=0;d<f;d++)this.drawItem(this.itemText(q,d),q,d)}else if(f=b.series.count(),q&&(f=Math.min(f,this.availRows())),c=0,l=[!0],this.inverted)for(;f--;)this.drawSeries(f,c)&&c++;else for(d=0;d<f;d++)this.drawSeries(d,c)&&c++;0<y&&(k.globalAlpha=m);p&&k.endParent()}};var h,m;this.calcWidths=function(){var c,e,f,d,k=b.series;h=0;m=[0,0];if(this.showValues())for(c=k.firstVisible(),d=this.itemsCount(),e=0;e<d;e++)k=this.itemText(c,e),k instanceof Array||(k=[k]),0<k.length&&(f=a.textWidth(k[0]),
f>m[0]&&(m[0]=f),1<k.length&&(f=a.textWidth(k[1]),f>m[1]&&(m[1]=f)));else for(d=k.count(),e=0;e<d;e++)if(c=k.items[e],this.showHidden||c.visible)f=a.textWidth(c.titleText(e)),f>m[0]&&(m[0]=f);h=m[0]+m[1]};this.calcPadding=function(a){return.01*this.padding*(this.isVertical()?a.width:a.height)};this.isVertical=function(){var a=this.position;return"right"===a||"left"===a};this.calcrect=function(){var c=0,f=this.title,d=b.chartRect,k=this.align,g=this.bounds,m=this.isVertical();f.shouldDraw()?(f.resize(),
e=f.bounds.height,c=f.bounds.width):e=0;m?g.y=0===k?d.y:b.bounds.height*k*.01:g.x=0===k?d.x:b.bounds.width*k*.01;a.font.prepare();this.itemHeight=a.textHeight("Wj");this.calcWidths();var k=this.calcPadding(d),l=this.itemsCount();m?(m=this.symbol.visible?this.symbol.width+this.symbol.padding:0,g.width=Math.max(c,12+h+m),g.height=(.5+l)*this.itemHeight+e,g.width-6>c&&(f.bounds.width=g.width-6)):(g.width=k+this.perRow*this.totalWidth(),g.x+=.5*(d.width-g.width),g.height=this.itemHeight*(this.rows+.25));
""!==a.stroke.fill&&(m=+a.stroke.size,1<m&&(g.width+=m,g.height+=m,this.innerOff=.5*m));0!==l&&("right"===this.position?(g.x=d.getRight()-g.width-this.margin*g.width*.01,d.automatic&&d.setRight(Math.max(d.x,g.x-k))):"left"===this.position?(g.x=d.x,d.automatic&&d.setLeft(g.x+g.width+k)):"top"===this.position?(g.y=d.y+k,d.automatic&&d.setTop(g.getBottom()+k)):(g.y=d.getBottom()-g.height-k,d.automatic&&d.setBottom(g.y-k)))}}function Q(b,d){Tee.Annotation.call(this,d);this.series=b;var a=this.arrow=new Tee.Format(d);
a.visible=!0;a.length=10;a.underline=!1;a.z=.5;a.depth=.1;this.style="auto";this.drawEvery=1;this.visible=!1;this.format.z=.5;this.setChart=function(c){this.chart=c;this.format.setChart(c);a.setChart(c)};this.drawPolar=function(c,b,f,d){var g=this.series.markText(d);d=c.x+Math.cos(f)*b;var l=c.y+Math.sin(f)*b,h=this.chart.ctx;this.text=g;this.resize();var g=this.bounds,m,n=this.position;b+=a.length;m=c.x+Math.cos(f)*b;b=c.y+Math.sin(f)*b;0>m-g.width&&(m-=m-g.width-4);Math.abs(m-c.x)<g.width?n.x=m-
.5*g.width:n.x=m<c.x?m-g.width:m;Math.abs(b-c.y)<g.height?n.y=b-.5*g.height:n.y=b<c.y?b-g.height:b;h.beginPath();h.moveTo(d,l);h.lineTo(m,b);a.underline&&(b<=n.y||b>=n.y+g.height)&&(h.moveTo(n.x,b),h.lineTo(n.x+g.width,b));a.stroke.prepare();h.stroke();this.draw()};this.canDraw=function(c,b,f,d){if((f=this.series.markText(f))&&""!==f&&(this.showZero||"0"!==f)){this.text=f;this.resize();f=d?-1:1;var g=this.bounds;this.series.yMandatory?(g.x=c-.5*g.width,g.y=b-f*(a.length+(d?0:g.height))):(g.x=c+f*
a.length,d&&(g.x-=g.width),g.y=b-.5*g.height);this.position.x=g.x;this.position.y=g.y;return!0}return!1};this.drawMark=function(c,b,f,d){if(this.canDraw(c,b,f,d)&&(this.draw(),a.visible)){f=this.bounds;var g=this.series.yMandatory,l=d?f.y:f.getBottom(),h=this.chart.ctx,m=this.chart.aspect.view3d;if(g){if(m){c={x:c-3,y:l,width:6,height:b-l};a.z=this.format.z-.5*a.depth;a.cylinder(c,1,!0);a.draw(this.chart.ctx,null,c);return}h.beginPath();h.moveTo(c,l);h.lineTo(c,b);a.underline&&(h.moveTo(f.x,l),h.lineTo(f.x+
f.width,l))}else b=f.y+.5*f.height,h.beginPath(),h.moveTo(c,b),d&&(f.x+=f.width),h.lineTo(f.x,b),a.underline&&(h.moveTo(f.x,f.y+f.height),h.lineTo(f.x+(d?-f.width:f.width),f.y+f.height));a.stroke.prepare();h.stroke()}}}function R(b){for(var d=0,a=b.length;a--;)d+=0<b[a]?b[a]:-b[a];return d}function N(b){return b&&b.constructor==Array?b.filter(function(b){return null!==b}).map(N):b}function K(b){b=N(b);var d=-Number.MAX_VALUE;b.forEach(function(a){d<a&&(d=a)});"[object Date]"===Object.prototype.toString.call(d)&&
(d=d.getTime());return d}function D(b){b=N(b);var d=Number.MAX_VALUE;b.forEach(function(a){d>a&&(d=a)});"[object Date]"===Object.prototype.toString.call(d)&&(d=d.getTime());return d}function O(b){function d(a){return a.visible&&a.firstSeries?(a=a.format.stroke,""===a.fill?0:.5*a.size):0}this.chart=b;this.items=[];this.count=function(){return this.items.length};this.clicked=function(a){var c=!1;this.each(function(b){if(b.visible&&b.onclick){var f=b.clicked(a);-1!=f&&(c=b.onclick(b,f,a.x,a.y))}});return c};
this.mousedown=function(a){for(var c=0,b,f=!1;b=this.items[c++];)b.visible&&b.mousedown(a)&&(f=!0);return f};this.mousemove=function(a){for(var c=0,b;b=this.items[c++];)b.visible&&b.mousemove(a)};this.mouseout=function(){this.each(function(a){a.visible&&a.mouseout()})};this.visibleCount=function(a,c,b){for(var f=0,d=this.items,g=d.length,l;g--,l=d[g];)l.visible&&(!c||l instanceof c)&&(b&&l==a&&(b.index=f),f++);b&&(b.total=f,b.index=f-1-b.index);return f};this.beforeDraw=function(){this.each(function(a){a.useAxes&&
a.recalcAxes();a.calcColorEach()})};this.anyUsesAxes=function(){for(var a=this.items.length,c;a--;)if(c=this.items[a],c.visible&&c.useAxes)return!0;return!1};this.firstVisible=function(){for(var a=0,c;c=this.items[a++];)if(c.visible)return c;return null};this.vertMargins=function(){var a,c=this.items,b=c.length,f,d;if(0<b)for(a={x:0,y:0},f={x:0,y:0},c[0].vertMargins(a),d=1;d<b;d++)0<c[d].data.values.length&&(f.x=f.y=0,c[d].vertMargins(f),f.x>a.x&&(a.x=f.x),f.y>a.y&&(a.y=f.y));return a};this.horizMargins=
function(){var a,c=this.items,b=c.length,f,d;if(0<b)for(a={x:0,y:0},f={x:0,y:0},c[0].horizMargins(a),d=1;d<b;d++)0<c[d].data.values.length&&(f.x=f.y=0,c[d].horizMargins(f),f.x>a.x&&(a.x=f.x),f.y>a.y&&(a.y=f.y));return a};this.minXValue=function(a){var c=Infinity,b;this.eachAxis(a,function(a){b=a.minXValue();b<c&&(c=b)});return c};this.minYValue=function(a){var c=Infinity,b;this.eachAxis(a,function(a){b=a.minYValue();b<c&&(c=b)});return c};this.maxXValue=function(a){var c=-Infinity,b;this.eachAxis(a,
function(a){b=a.maxXValue();b>c&&(c=b)});return c};this.maxYValue=function(a){var c=-Infinity,b;this.eachAxis(a,function(a){b=a.maxYValue();b>c&&(c=b)});return c};this.draw=function(){var a=this.items.length,c=this.chart,b=c.ctx,f=c.aspect,k,g;if(0<a){for(k=0;k<a;k++)g=this.items[k],g.visible&&g.beforeDraw&&g.beforeDraw();var l=f.clip&&this.anyUsesAxes(),h=c.axes;if(l){var c=c.chartRect,m=d(h.left),n=d(h.top),h={x:c.x+m,y:c.y+n,width:c.width-d(h.right),height:c.height-d(h.bottom)};f.clipRect(h)}try{var r=
b.beginParent;for(k=0;k<a;k++)if(g=this.items[k],g.visible){var t=b.globalAlpha;b.globalAlpha=1-g.format.transparency;g.transform&&(b.save(),g.transform());g.visual=r?b.beginParent():null;if(g.onbeforedraw)g.onbeforedraw(g);g.draw();r&&b.endParent();if(g.ondraw)g.ondraw(g);g.transform&&b.restore();b.globalAlpha=t}}finally{l&&b.restore()}for(k=0;k<a;k++)g=this.items[k],g.visible&&g.marks.visible&&(g.transform&&(b.save(),g.transform()),g.drawMarks(),g.transform&&b.restore())}}}function W(b){this.chart=
b;this.visible=!0;this.transparency=0;this.left=new A(b,!1,!1);this.top=new A(b,!0,!0);this.right=new A(b,!1,!0);this.bottom=new A(b,!0,!1);this.items=[this.left,this.top,this.right,this.bottom];this.each=function(b){for(var a=0,c;c=this.items[a++];)b.call(c)};this.add=function(d,a){var c=new A(b,d,a);c.custom=!0;this.items.push(c);return c}}"undefined"!==typeof exports&&(exports.Tee=Tee);"undefined"!==typeof window&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60,(new Date).getTime())}}());var z;try{Object.defineProperty({},"x",{}),z=Object.defineProperty}catch(G){}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(b,d){void 0===d&&(d=0);0>d&&(d+=this.length);0>d&&(d=0);for(var a=this.length;d<a;d++)if(d in this&&this[d]===b)return d;return-1});Tee.Point=function(b,d){this.x=b;this.y=d};Tee.Rectangle=function(b,
d,a,c){this.x=b;this.y=d;this.width=a;this.height=c;this.set=function(a,c,b,d){this.x=a;this.y=c;this.width=b;this.height=d};this.setFrom=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};this.getRight=function(){return this.x+this.width};this.getBottom=function(){return this.y+this.height};this.setTop=function(a){this.height-=a-this.y;this.y=a};this.setBottom=function(a){this.height=a-this.y};this.setLeft=function(a){this.width-=a-this.x;this.x=a};this.setRight=function(a){this.width=
a-this.x};this.contains=function(a){return a.x>=this.x&&a.x<=this.x+this.width&&a.y>=this.y&&a.y<=this.y+this.height};this.offset=function(a,c){this.x+=a;this.y+=c}};Tee.Tool=function(b){this.chart=b;this.active=!0};Tee.Animation=function(b,d){Tee.Tool.call(this,b);this.active=!0;this.mode="linear";this.duration=500;this.items=[];this.autoDraw=!0;this.running=this.loop=!1;this.onstop=this.onstart=null;b&&(b instanceof Tee.Chart?this.chart=b:b instanceof Tee.Animation&&(this.chart=b.chart,b.items.push(this)));
var a=null;this._dostart=function(){this.init=(new Date).getTime();a.start();for(var c=0,b;b=a.items[c++];)b.active&&(b.chart=a.chart,b.start());a.chart.draw();requestAnimFrame(this.step,this)};this.animate=function(c){this.running||(this.running=!0,c&&(this.chart=c),a=this,this._dostart())};this.start=function(){if(this.onstart)this.onstart()};this.stop=function(){if(this.onstop)this.onstop()};this.doStep=function(a){d&&d(a)};this.step=function(){var c,b;c=((new Date).getTime()-a.init)/a.duration;
var f="linear"==a.mode?c:Math.pow(2,10*(c-1));if(0<=f&&1>f){if(a.running){a.doStep(f);for(c=0;b=a.items[c++];)b.active&&(b.chart=a.chart,b.doStep(f));a.autoDraw&&a.chart.draw();requestAnimFrame(a.step,a)}}else{a.stop();for(c=0;b=a.items[c++];)b.active&&(b.chart=a.chart,b.stop());if(a.onstop)a.onstop(a);a.loop?a._dostart():(a.running=!1,a.chart.draw())}}};Tee.Animation.prototype=new Tee.Tool;Tee.Tool.prototype.mousedown=function(){};Tee.Tool.prototype.mousemove=function(){};Tee.Tool.prototype.mouseout=
function(){};Tee.Tool.prototype.clicked=function(){return!1};Tee.Tool.prototype.draw=function(){};F.prototype.setEndColor=function(b){if(b&&""!==b)for(var d=1,a=this.colors.length;d<a;d++)this.colors[d]=b};P.prototype.set=function(b){this.visible=b.visible;this.color=b.color;this.blur=b.blur;this.width=b.width;this.height=b.height};M.prototype.getSize=function(){var b=this.style.split(" "),d,a;for(d=0;d<b.length;d++)if(a=parseFloat(b[d]))return a;return 20};M.prototype.setSize=function(b){var d="",
a=this.style.split(" "),c;for(c=0;c<a.length;c++)parseFloat(a[c])?d+=b.toString()+"px ":d+=a[c]+" ";this.style=d};M.prototype.prepare=function(){var b=this.chart.ctx;b.textAlign=this.textAlign;b.textBaseline=this.baseLine;this._sh&&this._sh.prepare(b);b.font!=this.style&&(b.font=this.style)};M.prototype.setChart=function(b){this.chart=b;this._g&&(this._g.chart=b);this._sh&&(this._sh.chart=b);this._s&&this._s.setChart(b)};Tee.Format=function(b){this.chart=b;this.gradient=new F(b);this.fill="rgb(200,200,200)";
this.stroke=new L(b);this.round={x:0,y:0};this.transparency=0;this.font=new M(b);this._img=null;z?z(this,"image",{get:function(){this._img||(this._img=new Y(this.chart));return this._img}}):this._img=this.image=new Y(b);this.shadow=new P(b);this.roundRect=function(a,b,e,f,d){if(a.roundRect)a.roundRect(b,e,f,d,this.round.x,this.round.y);else{var g=b+f,l=e+d,h=this.round.x,m=this.round.y,n=this.round.corners;0>d&&(e=l,l=e-d);0>f&&(b=g,g=b-f);2*h>f&&(h=.5*f);2*m>d&&(m=.5*d);!n||n[0]?a.moveTo(b+h,e):
a.moveTo(b,e);!n||n[1]?(a.lineTo(g-h,e),a.quadraticCurveTo(g,e,g,e+m)):a.lineTo(g,e);!n||n[2]?(a.lineTo(g,l-m),a.quadraticCurveTo(g,l,g-h,l)):a.lineTo(g,l);!n||n[3]?(a.lineTo(b+h,l),a.quadraticCurveTo(b,l,b,l-m)):a.lineTo(b,l);!n||n[0]?(a.lineTo(b,e+m),a.quadraticCurveTo(b,e,b+h,e)):a.lineTo(b,e);a.closePath()}};this.textHeight=function(){return 1.3*this.font.getSize()};this.textWidth=function(a){return this.chart.ctx.measureText(a).width};this.fillBack=function(a,b,e,f,d,g){this.gradient.visible?
(a.fillStyle=b?this.gradient.create(b()):this.gradient.rect(e,f,d,g),a.fill()):""!==this.fill&&(a.fillStyle=this.fill,a.fill())};this.draw=function(a,b,e,f,d,g){var l=this._img,h;"object"===typeof e&&(f=e.y,d=e.width,g=e.height,e=e.x);0<this.transparency&&(h=a.globalAlpha,a.globalAlpha=(1-this.transparency)*h);this.shadow.prepare(a);l&&l.visible&&""!==l.url?(a.save(),a.clip(),!0==l.backFill&&this.fillBack(a,b,e,f,d,g),b?(b=b(),l.tryDraw(b.x,b.y,b.width,b.height)):l.tryDraw(e,f,d,g),a.restore()):this.fillBack(a,
b,e,f,d,g);""!==this.stroke.fill&&(this.stroke.prepare(),a.stroke());0<this.transparency&&(a.globalAlpha=h)};this.drawText=function(a,b){function e(a){d.fillText(a,h,m);g&&""!==g.fill&&(g.prepare(),d.strokeText(a,h,m))}var f=this.font._g,d=this.chart.ctx,g=this.font._s,l=this.font.textAlign,h=a.x,m=a.y;d.fillStyle=f&&f.visible&&a?f.create(a):this.font.fill;if("center"==l)h+=.5*a.width;else if("right"==l||"end"==l)h+=a.width;f=(b+"").split("\n");l=f.length;if(1<l)for(var n=this.textHeight(f[0]),r=
0;r<l;r++)e(f[r]),m+=n;else e(b)};this.rectangle=function(a,b,e,f){1>this.transparency&&("object"===typeof a?this.rectangle(a.x,a.y,a.width,a.height):(this.rectPath(a,b,e,f),this.draw(this.chart.ctx,null,a,b,e,f)))};this.polygonBounds=function(a,b){var e=0,f=0,d=0,g=0,l=a.length,h,m;if(0<l)for(e=d=a[0].x,f=g=a[0].y,m=1;m<l;m++)h=a[m].x,h<e?e=h:h>d&&(d=h),h=a[m].y,h<f?f=h:h>g&&(g=h);b.x=e;b.y=f;b.width=d-e;b.height=g-f};var d=new s;this.polygon=function(a){var b=this.chart.ctx,e=a.length,f;b.beginPath();
b.moveTo(a[0].x,a[0].y);for(f=1;f<e;f++)b.lineTo(a[f].x,a[f].y);b.closePath();var k=this;this.draw(b,function(){k.polygonBounds(a,d);return d})}};Tee.Format.prototype.ellipsePath=function(b,d,a,c,e){this.chart.__webgl?(b.z=this.z,b.depth=this.depth,b.ellipsePath(d,a,c,e)):(b.save(),b.translate(d,a),b.scale(.5*c,.5*e),b.beginPath(),b.arc(0,0,1,0,2*Math.PI,!1),b.restore())};Tee.Format.prototype.ellipse=function(b,d,a,c){var e=this.chart.ctx;this.ellipsePath(e,b,d,a,c);this.draw(e,null,b-.5*a,d-.5*c,
a,c)};Tee.Format.prototype.sphere=function(b,d,a,c){if(this.chart.__webgl){var e=this.chart.ctx;e.depth=this.depth;e.z=this.z;this.gradient.visible&&(e.fillStyle=this.gradient.colors[this.gradient.colors.length-1]);e.sphere(b,d,a,c)}else this.ellipse(b,d,a,c)};Tee.Format.prototype.cylinder=function(b,d,a,c){if(this.chart.__webgl){var e=this.chart.ctx;e.depth=this.depth;e.z=this.z;e.image=this.image;e.cylinder(b,d,a,c)}else 1==d?this.cube(b):(d=b.width,c=b.height,a?this.polygon([new p(b.x+.5*d,b.y),
new p(b.x,b.y+c),new p(b.x+d,b.y+c)]):this.polygon([new p(b.x+d,b.y+.5*c),new p(b.x,b.y),new p(b.x,b.y+c)]))};Tee.Format.prototype.cube=function(b){var d=this.chart.aspect,a=d.view3d,c,e,f,k=0,g=0;if(a){if(this.chart.__webgl){a=this.chart.ctx;a.depth=this.depth;a.z=this.z;a.cube(b,this.round.x);return}c=this.z;var l=this.depth,k=c*d._orthox,g=-c*d._orthoy;c=b.x+b.width;e=b.y+b.height;var h=l*d._orthox,d=-l*d._orthoy;f=this.shadow.visible;this.shadow.visible=!1;var m=c+h,n=b.y+d;0<l&&(this.polygon([{x:c,
y:b.y},{x:m,y:n},{x:m,y:e+d},{x:c,y:e}]),0<b.width&&this.polygon([{x:b.x,y:b.y},{x:b.x+h,y:n},{x:m,y:n},{x:c,y:b.y}]))}this.rectPath(b.x+k,b.y+g,b.width,b.height);a&&(this.shadow.visible=f)};Tee.Format.prototype.rectPath=function(b,d,a,c){var e=this.chart.ctx;e.beginPath();0<this.round.x&&0<this.round.y?this.roundRect(e,b,d,a,c):e.rect(b,d,a,c)};Tee.Format.prototype.setChart=function(b){this.chart=b;this.shadow.chart=b;this.gradient.chart=b;this.font.setChart(b);this._img&&(this._img.chart=b);this.stroke.setChart(b)};
Tee.Annotation=function(b,d,a,c){function e(a){return!a||0===a.length}Tee.Tool.call(this,b);this.position=new p(a||10,c||10);var f=this.margins=new S;this.items=[];var k=this.bounds=new s;this.visible=!0;this.transparent=!1;this.text=d||"";this.isDom=!1;this.domElement=null;this.domStyle="border-radius: 5px;border: 2px solid #faad44;background: #FFF;padding:5px;";var g=this.format=new Tee.Format(b);g.font.textAlign="center";g.font.baseLine="top";g.fill="beige";g.round={x:4,y:4};g.stroke.fill="silver";
g.shadow.visible=!0;g.depth=.05;g.z=.5;var l,h,m;this.getDOMHeight=function(){return null==this.domElement?0:this.domElement.offsetHeight};this.getDOMWidth=function(){return null==this.domElement?0:this.domElement.offsetWidth};this.moveTo=function(a,b){this.position.x=a;this.position.y=b;this.resize()};this.shouldDraw=function(){return this.visible&&!e(this.text)};this.resize=function(){if(!e(this.text)){g.font.prepare();this.rows=this.text.split("\n");l=g.textHeight(this.text);var a=this.rows.length;
h=l*a+f.top;var b,c=h+f.bottom;if(1<a)for(b=0;a--;)b=Math.max(b,g.textWidth(this.rows[a]+"W"));else b=g.textWidth(this.text+"W");b+=f.left+f.right;a=this.position;k.set(a.x,a.y,b,c)}};this.add=function(a){a=new Tee.Annotation(this.chart,a);this.items.push(a);a.transparent=!0;return a};this.doDraw=function(){if(!e(this.text))if(this.isDom)this.drawDOMText();else{if(this.transparent)this.chart.ctx.z=g.z;else if(this.chart.aspect.view3d&&0<this.format.depth){var a=g.z;g.z-=.5*this.format.depth;g.cube(k);
g.draw(this.chart.ctx,null,k);g.z=a}else this.chart.ctx.z=g.z,g.rectangle(k);var b,a=this.format.transparency,c=this.chart?this.chart.ctx:null;0<a&&(b=c.globalAlpha,c.globalAlpha=(1-a)*b);g.font.prepare();k.y+=f.top+.1*l;k.x+=f.left;var d=k.width;k.width-=f.right;g.drawText(k,this.text);k.x=this.position.x;k.y=this.position.y;k.width=d;0<a&&(c.globalAlpha=b)}};this.clicked=function(a){return this.visible&&k.contains(a)};this.doMouseMove=function(a){(this.mouseinside=this.clicked(a))?(this.cursor&&
(this.chart.newCursor=this.cursor),this.wasinside||(m=new T(250,k,g))):this.wasinside&&(m.restore(),this.chart.draw());this.wasinside=this.mouseinside};this.mousemove=function(a){this.cursor&&"default"!=this.cursor&&this.doMouseMove(a)};this.forceDraw=function(){this.resize();this.doDraw()};this.setChart=function(a){this.chart=a;this.format.setChart(a)};this.drawDOMText=function(){var a=this.chart.canvas.getBoundingClientRect(),b=this.transparent?"opacity:0;":"opacity:1;";this.domElement||(this.domElement=
document.createElement("div"),document.body.appendChild(this.domElement));this.chart.canvas.setAttribute("style","z-index:1;");this.domElement.setAttribute("style","position:absolute;top:"+(this.position.y+a.top)+"px;left:"+(this.position.x+a.left)+"px;display:block;z-index:10000;"+this.domStyle+b);this.domElement.innerHTML!=this.text&&(this.domElement.innerHTML=this.text)}};Tee.Annotation.prototype=new Tee.Tool;Tee.Annotation.prototype.draw=function(){this.visible&&this.forceDraw()};Tee.DragTool=
function(b){Tee.Tool.call(this,b);this.series=null;var d=this.target={series:null,index:-1};this.clicked=function(){d.series=null;d.index=-1};var a=new p(0,0);this.Point=a;this.mousedown=function(b){var e=this.chart.series.items,f=e.length;this.chart.calcMouse(b,a);d.series=null;d.index=-1;if(this.series&&this.series.visible)d.index=this.series.clicked(a),-1!=d.index&&(d.series=this.series);else for(b=0;b<f;b++)if(e[b].visible&&(d.index=e[b].clicked(a),-1!=d.index)){d.series=e[b];break}return-1!=
d.index};this.mousemove=function(a){if(-1!=d.index){var b=d.series;a=b.mandatoryAxis.fromPos(b.yMandatory?a.y:a.x);this.onchanging&&(a=this.onchanging(this,a));b.data.values[d.index]=a;if(this.onchanged)this.onchanged(this,a);this.chart.draw()}}};Tee.DragTool.prototype=new Tee.Tool;Tee.CursorTool=function(b){Tee.Tool.call(this,b);this.direction="both";this.size=new p(0,0);this.followMouse=!0;this.dragging=-1;this.format=new Tee.Format(b);this.horizAxis=b?b.axes.bottom:null;this.vertAxis=b?b.axes.left:
null;var d,a=new s;this.over=function(b){var c=-1;if(a.contains(b)){var f=3>Math.abs(d.x-b.x);b=3>Math.abs(d.y-b.y);var e=this.direction;"both"==e&&f&&b?c=0:!f||"both"!=e&&"vertical"!=e?!b||"both"!=e&&"horizontal"!=e||(c=2):c=1}return c};this.calcRect=function(){var c=b.chartRect,f=this.horizAxis,e=this.vertAxis;a.x=f?f.startPos:c.x;a.width=f?f.endPos-a.x:c.width;a.y=e?e.startPos:c.y;a.height=e?e.endPos-a.y:c.height};var c=new p(0,0);this.mousedown=function(a){this.chart.calcMouse(a,c);this.dragging=
this.followMouse?-1:this.over(c);return-1<this.dragging};this.clicked=function(){this.dragging=-1};this.mousemove=function(c){var g=this.dragging,l=this.followMouse;if(l||-1<g)if(d||(d=new p),d.x!=c.x||d.y!=c.y)if(this.calcRect(),a.contains(c)){if(l||0===g||1===g)d.x=c.x;if(l||0===g||2===g)d.y=c.y;"full"==this.render?this.chart.draw():(e&&("copy"==this.render?this.chart.ctx.drawImage(e,0,0):(g=b.bounds,f.clearRect(g.x,g.y,g.width,g.height))),this.dodraw("copy"==this.render?this.chart.ctx:f));if(this.onchange)this.onchange(c);
return}c=this.over(c);this.chart.newCursor=d&&-1<c?0===c?"move":1===c?"e-resize":"n-resize":"default"};this.render="copy";var e,f;this.setRender=function(a){this.render=a;e&&(this.resetCopy(),this.chart.draw())};this.resetCopy=function(){var a=this.chart.canvas;"layer"==this.render?(e.style.position="absolute",a.parentNode.appendChild(e),e.setAttribute("left",a.offsetLeft+"px"),e.setAttribute("top",a.offsetTop+"px"),e.style.left=a.offsetLeft,e.style.top=a.offsetTop,e.style.zIndex=10,e.style.pointerEvents=
"none"):e.parentNode&&e.parentNode.removeChild(e)};this.draw=function(){"full"==this.render?this.dodraw(this.chart.ctx):(e||(e=this.chart.canvas.cloneNode(),this.resetCopy(),f=e.getContext("2d")),"copy"==this.render?(f.drawImage(b.canvas,0,0),this.dodraw(this.chart.ctx)):this.dodraw(f))};this.dodraw=function(b){var c=this.direction,f="both"==c,e;this.calcRect();d||(d=new p(a.x+.5*a.width,a.y+.5*a.height));b.beginPath();if(f||"vertical"==c)e=.5*this.size.y,b.moveTo(d.x,0===e?a.y:d.y-e),b.lineTo(d.x,
0===e?a.y+a.height:d.y+e);if(f||"horizontal"==c)e=.5*this.size.x,b.moveTo(0===e?a.x:d.x-e,d.y),b.lineTo(0===e?a.x+a.width:d.x+e,d.y);this.format.stroke.prepare(this.format.stroke.fill,b);b.stroke()}};Tee.CursorTool.prototype=new Tee.Tool;Tee.ToolTip=function(b){function d(){function a(b){c.moveTo(c.oldX+b*c.deltaX,c.oldY+b*c.deltaY);c.autoRedraw&&c.chart.draw()}var b=((new Date).getTime()-c.init)/c.animated;1>b?(a(b),window.requestAnimFrame(d,c)):a(1)}Tee.Annotation.call(this,b);this.pointer={fill:"Green",
firstCircleRadius:"2",secondCircleRadius:"5",visible:!1,firstCircleOpacity:"1",secondCircleOpacity:"0.4",animationVisible:!0,animationDuration:200};this.findPoint=this.visible=!1;this.currentSeries=null;this.currentIndex=-1;this.timID=null;this.autoHide=!1;this.delay=1E3;this.animated=100;this.autoRedraw=!0;this.render="dom";this.domStyle="padding:5px; margin-left:5px; background-color:#666; border-radius:4px 4px; color:#FFF; z-index:1000;";this.hide=function(){var a="dom"===this.render;if(this.visible||
a){if(this.onhide)this.onhide(this);this.visible=!1;this.autoRedraw&&(a?Tee.DOMTip.hide():this.chart.draw());this.currentIndex=-1;this.currentSeries=null}};var a=function(a){a&&a[0].hide()};this.mousemove=function(b){var c=this.chart.series,d=c.count(),g=null,l=-1;if(this.chart.chartRect.contains(b))for(var h=d-1;0<=h;h--){var m=c.items[h];if(m.visible){l=m.clicked(b);if(-1==l&&m.continuous)for(var l=Math.round(this.chart.axes.bottom.fromSizeCalcIndex(b.x-this.chart.axes.bottom.startPos)),n,r,t=0;t<
d;t++)n=Math.abs(c.items[t].data.values[l]-this.chart.axes.left.fromPos(b.y)),0==t?(r=n,m=c.items[t]):n<r&&(m=c.items[t]);if(-1!=l){g=m;break}}}else l=-1;if(-1==l)this.hide(),this.currentIndex=-1,this.currentSeries=null;else if(l!=this.currentIndex||g!=this.currentSeries)if(this.currentIndex=l,this.currentSeries=g)this.refresh(g,l),this.autoHide&&0<this.delay&&(clearTimeout(this.timID),this.timID=window.setTimeout(a,this.delay,[this]))};var c=null;this.refresh=function(a,b){var k="dom"===this.render;
this.visible=!k;this.text=a.markText(b);this.ongettext&&(this.text=this.ongettext(this,this.text,a,b));if(""!==this.text){this.resize();var g=new p;a.calc(b,g);g.x-=.5*this.bounds.width;g.y-=1.5*this.bounds.height;0>g.x&&(g.x=0);0>g.y&&(g.y=0);k||this.autoHide||!(0<this.animated)||isNaN(this.position.x)||isNaN(this.position.y)?(this.moveTo(g.x,g.y),this.autoRedraw&&(k?Tee.DOMTip.show(this.text,"auto",this.chart.canvas,this.domStyle,this):this.chart.draw())):(this.oldX=this.position.x,this.oldY=this.position.y,
this.deltaX=g.x-this.oldX,this.deltaY=g.y-this.oldY,this.init=(new Date).getTime(),c=this,window.requestAnimFrame(d,this));if(this.onshow)this.onshow(this,a,b)}}};Tee.ToolTip.prototype=new Tee.Annotation;Tee.RainbowPalette=function(){return"#FF0000 #FF7F00 #FFFF00 #00FF00 #0000FF #6600FF #8B00FF".split(" ")};Tee.Palette=function(b){this.colors=b};Tee.Palette.prototype.get=function(b){return this.colors[-1==b?0:b%this.colors.length]};X.prototype=new Tee.Annotation;A.adjustRect=function(){if(this.visible){var b=
0,d=this.labels,a=this.chart.chartRect,c=this.title,e;(this.firstSeries=this.hasAnySeries())&&this.visible&&(this.checkMinMax(),d.checkStyle(),(e=c.shouldDraw())&&c.resize(),a.automatic&&!this.custom&&(d.visible&&(d.format.font.prepare(),this.maxLabelDepth=b=this.minmaxLabelWidth(!0),d.alternate&&(b*=2),b+=d.padding),this.ticks.visible&&(b+=this.ticks.length),e&&(b+=c.bounds.height),this.horizontal?this.otherSide?a.setTop(a.y+b):a.height-=b:this.otherSide?a.width-=b:a.setLeft(a.x+b)))}};A.prototype.setPos=
function(b,d){this.startPos=b+this.start*d*.01;this.endPos=b+this.end*d*.01;this.axisSize=this.endPos-this.startPos};A.calcRect=function(){if(this.firstSeries){this.checkMinMax();var b=this.chart.chartRect,d=this.bounds,a=this.horizontal;a?(d.y=this.otherSide?b.y:b.y+b.height,d.width=b.width,this.setPos(b.x,b.width)):(d.x=this.otherSide?b.x+b.width:b.x,d.height=b.height,this.setPos(b.y,b.height));this.calcAxisScale();d=this.chart.series;0<d.items.length&&this.automatic&&(d=d.items[0],d instanceof
Tee.Bar&&d.notmandatory==this&&"sideAll"==d.stacked&&(d.notmandatory.minimum=-.5,d.notmandatory.maximum=d.countAll(!1)-.5));if(this.automatic){var d=this.chart.series,d=a?d.horizMargins():d.vertMargins(),c=0<d.x,e=0<d.y;c&&(this.minimum-=this.fromSize(d.x));e&&(this.maximum+=this.fromSize(d.y));(c||e)&&this.calcAxisScale()}this.calcScale();var d=(a?b.height:b.width)*this.position*.01,c=this.chart.walls,e=0,f=c.visible&&this.chart.aspect.view3d;a?(f&&c.bottom.visible&&(e=c.bottom.size),this.axisPos=
this.otherSide?b.y+d:b.getBottom()+e-d):(f&&c.left.visible&&(e=c.left.size),this.axisPos=this.otherSide?b.getRight()-d:b.x-e+d)}};A.draw=function(){if(this.visible&&this.firstSeries){this.z=this.otherSide?this.chart.walls.back.format.z:0;if(1E-9>=Math.abs(this.maximum-this.minimum)){var b=1E-9>Math.abs(this.minimum)?1E-8:this.minimum/1E7;if(this.minimum!=this.minimum-b||this.maximum!=this.minimum+b)this.setMinMax(this.minimum-b,this.maximum+b),null!=this.chart&&this.chart.draw()}""!==this.format.stroke.fill&&
this.drawAxis();this.roundMin()+1E3*this.increm>this.maximum&&(this.grid.visible&&this.drawGrids(),this.ticks.visible&&this.drawTicks(this.ticks,1,0),this.innerTicks.visible&&this.drawTicks(this.innerTicks,-1,0),this.minorTicks.visible&&this.drawTicks(this.minorTicks,1,Math.max(0,this.minorTicks.count)),this.labels.visible&&this.drawLabels());this.title.shouldDraw()&&this.drawTitle()}};Q.prototype=new Tee.Annotation;"map"in Array.prototype||(Array.prototype.map=function(b,d){for(var a=Array(this.length),
c=0,e=this.length;c<e;c++)c in this&&(a[c]=b.call(d,this[c],c,this));return a});"filter"in Array.prototype||(Array.prototype.filter=function(b,d){for(var a=[],c,e=0,f=this.length;e<f;e++)e in this&&b.call(d,c=this[e],e,this)&&a.push(c);return a});Tee.Series=function(b,d){this.chart=null;this.data={values:[],labels:[],source:null};this.sortedOptions={sortedDrawAnimation:new Tee.Animation,sortedValues:[],sortedValuesIndices:[],originalValues:[],sortedLabels:[],originalLabels:[],sorted:!1,ascending:!0,
sorting:!1,sortingAnimationType:"verticalchange"};this.yMandatory=!0;this.horizAxis="bottom";this.vertAxis="left";this.legend={visible:!0};this.sequential=!0;var a=this.format=new Tee.Format(this.chart),c=this.hover=new Tee.Format(this.chart),e=c.shadow;this.sortedOptions.sortedDrawAnimation.duration=500;this.sortedOptions.sortedDrawAnimation.mode="linear";a.fill="";a.stroke.fill="";this.visible=!0;c.stroke.size=.3;c.fill="";c.stroke.fill="red";e.visible=!0;e.blur=10;e.width=0;e.height=0;this.cursor=
"default";this.over=-1;this.marks=new Q(this,this.chart);this.palette=new Tee.Palette;this.paletteName="opera";this.themeName="default";this.colorEach="auto";this.useAxes=!0;this.decimals=2;this._paintWalls=this._paintAxes=!0;this.sortValues=function(){this.sortedOptions.sorting=!0;var a=[],b=this.data.values,c=this.sortedOptions.ascending;this.sortedOptions.sortedLabels=[];for(var e=0;e<this.data.values.length;e++)a.push(e);a.sort(function(a,f){return c?b[a]-b[f]:b[f]-b[a]});this.sortedOptions.originalValues=
this.data.values.slice();this.sortedOptions.originalLabels=this.data.labels.slice();for(e=0;e<a.length;e++)this.sortedOptions.sortedLabels.push(this.data.labels[a[e]]?this.data.labels[a[e]]:a[e]);this.sortedOptions.sortedValuesIndices=a;this.sortedOptions.sortedValues=this.data.values.slice().sort(function(a,b){return c?a-b:b-a});this.sortedOptions.sorting=!1;return this.sortedOptions.sortedValues.slice()};this.drawSortedValues=function(a){var b=this.sortedOptions.sortedDrawAnimation;if(this.sortedOptions.sorted!=
a&&!this.sortedOptions.sorting&&b&&!b.running){(this.sortedOptions.sorted=a)&&this.sortValues();var c=a?this.sortedOptions.originalValues.slice():this.sortedOptions.sortedValues.slice(),e=this.data.values,d=a?this.sortedOptions.sortedValues.slice():this.sortedOptions.originalValues.slice();e.length==d.length&&e.every(function(a,b){return a===d[b]})||(b.chart=this.chart,b.doStep=function(a){if(1>a)for(var b=0;b<c.length;b++)e[b]=c[b]+(d[b]-c[b])*a},b.onstop=function(){for(var a=0;a<c.length;a++)e[a]=
d[a];b.running=!1},b.onstart=function(){b.running=!0},b.animate());this.data.labels=a?this.sortedOptions.sortedLabels.slice():this.sortedOptions.originalLabels.slice();this.chart.draw()}};this.init=function(a,b){"object"===typeof a&&a&&(a instanceof Array?(this.data.values=a,b instanceof Array&&(this.data.labels=b)):a instanceof Tee.Chart?(this.chart=a,b instanceof Array&&(this.data.values=b)):(this.data.source=a,this.refresh()))};this.init(b,d);this.getFill=function(a,b){var c=this.palette,c=c&&
c.colors?c.get(a):null;return null===c?this.isColorEach||!b?this.chart.palette.get(a):b.fill:c};this.isNull=function(a){return null===this.data.values[a]};this.getFillStyle=function(b,c){return a.gradient.visible?a.gradient.create(b,c):c};this.title="";this.titleText=function(a){return this.title||"Series "+a.toString()};this.refresh=function(a){this.data.source?this.data.source instanceof HTMLTextAreaElement?(parseText(this.data,this.data.source.value),this.chart&&this.chart.draw()):this.data.source instanceof
HTMLInputElement?Tee.doHttpRequest(this,this.data.source.value,function(a,b){parseText(a.data,b);a.chart.draw()},function(b,c){a&&a(this,b,c)}):a&&a(this):this.data.xml?(parseXML(this,this.data.xml),this.chart.draw()):this.data.json&&(parseJSON(this,this.data.json),this.chart.draw())};this.valueOrLabel=function(a){var b=this.data.labels[a];b&&""!==b||(b=this.valueText(a));return b};this.toPercent=function(a){var b=this.data.values;return(100*Math.abs(b[a])/R(b)).toFixed(this.decimals)+" %"};this.markText=
function(a){var b=this.marks,c=this.dataText(a,b.style,!1);return b.ongettext?b.ongettext(this,a,c):c};this.associatedToAxis=function(a){return a.horizontal?"both"==this.horizAxis||this._horizAxis==a:"both"==this.vertAxis||this._vertAxis==a};this.bounds=function(a){var b=this._horizAxis,c=this._vertAxis;a.x=b.calc(this.minXValue());a.width=b.calc(this.maxXValue())-a.x;a.y=c.calc(this.maxYValue());a.height=c.calc(this.minYValue())-a.y};this.calcStack=function(a,b,c){c=this.pointOrigin(a,!1)+c;var e=
this.mandatoryAxis;b.x=this.notmandatory.calc(this.data.x?this.data.x[a]:a);this.isStack100?(a=this.pointOrigin(a,!0),b.y=0===a?e.endPos:e.calc(100*c/a)):b.y=e.calc(c);this.yMandatory||(a=b.x,b.x=b.y,b.y=a)};this.pointOrigin=function(a,b){var c=0,e,d,m=this.chart.series.items,n;for(e=0;e<m.length;e++)if(d=m[e],b||d!=this)"no"!=d.stacked&&(n=d.data.values,d.visible&&d.constructor==this.constructor&&n.length>a&&(d=n[a],void 0!==d&&(c+=b&&0>d?-d:d)));else break;return c};this.doHover=function(a){var b=
this.chart;if(a!=this.over){if(b.onhover)b.onhover(this,a);this.over=a;this.hover.enabled&&window.requestAnimFrame(function(){b.draw()})}}};Tee.Series.prototype.initZ=function(b,d){var a=this.format;a.z=b/d;a.depth=1/d;this.marks.format.z=a.z+.5*a.depth};Tee.Series.prototype.setChart=function(b,d){b.chart=d;b.recalcAxes();b.format.setChart(d);b.marks.setChart(d);b.hover.setChart(d)};Tee.Series.prototype.calc=function(b,d){var a=this.data,c=this.notmandatory.calc(a.x?a.x[b]:b),a=this.mandatoryAxis.calc(a.values[b]);
d.x=this.yMandatory?c:a;d.y=this.yMandatory?a:c};Tee.Series.prototype.recalcAxes=function(){var b=this.chart.axes;this._horizAxis=this.horizAxis instanceof A?this.horizAxis:"top"==this.horizAxis?b.top:b.bottom;this._vertAxis=this.vertAxis instanceof A?this.vertAxis:"right"==this.vertAxis?b.right:b.left;this.mandatoryAxis=this.yMandatory?this._vertAxis:this._horizAxis;this.notmandatory=this.yMandatory?this._horizAxis:this._vertAxis};Tee.Series.prototype.getRect=function(){return new s};Tee.Series.prototype.clicked=
function(){return-1};Tee.Series.prototype.fixedFloatToLocal=function(b,d){var a=b.toFixed(d),c=b.toLocaleString(this.chart.language);if(-1!=a.indexOf(".")){var e;e=(1.1).toLocaleString(this.chart.language).substring(1,2);a=a.substring(a.indexOf(".")+1);return c.substring(0,-1==c.indexOf(e)?c.length:c.indexOf(e))+e+a}return b};Tee.Series.prototype.valueText=function(b){return(b=(this.data._old||this.data.values)[b])?b instanceof Date?b.format?b.format(this.dateFormat):b.toString():this.valueFormat?
b.toLocaleString(this.chart.language):(b|0)==b?this.fixedFloatToLocal(b,0).toString():this.fixedFloatToLocal(b,this.decimals).toString():"0"};Tee.Series.prototype.labelOrTitle=function(b){return this.data.labels[b]||this.title};Tee.Series.prototype.mousedown=function(){return!1};Tee.Series.prototype.mousemove=function(b){if(this.hover.enabled||"default"!=this.cursor){var d=this.clicked(b);this.doHover(d);if("default"!=this.cursor&&-1!=d){this.chart.newCursor||(this.chart.newCursor=this.cursor);return}}d=
this.marks;if(d.visible){var a=this.data.values.length,c=new p,e;for(e=0;e<a;e+=d.drawEvery)if(!this.isNull(e)&&(this.markPos(e,c),d.canDraw(c.x,c.y,e)&&d.bounds.contains(b))){this.doHover(e);break}}};Tee.Series.prototype.mouseout=function(){};Tee.Series.prototype.markPos=function(b,d){this.calc(b,d);return!1};Tee.Series.prototype.drawMarks=function(){var b=this.data.values.length,d=new p,a,c;for(a=0;a<b;a+=this.marks.drawEvery)this.isNull(a)||(c=this.markPos(a,d),this.marks.drawMark(d.x,d.y,a,c))};
Tee.Series.prototype.horizMargins=function(){};Tee.Series.prototype.vertMargins=function(){};Tee.Series.prototype.minXValue=function(){return this.data.x&&0<this.data.x.length?D(this.data.x):0};Tee.Series.prototype.minYValue=function(){var b=this.data.values;return 0<b.length?D(b):0};Tee.Series.prototype.maxXValue=function(){if(this.data.x)return 0<this.data.x.length?K(this.data.x):0;var b=this.data.values.length;return 0===b?0:b-1};Tee.Series.prototype.maxYValue=function(){var b=this.data.values,
d=b.length,a,c,e;if(0<d){e=K(b);if(e!==e)for(a=0;a<d;a++)c=b[a],void 0!==c&&(e!==e?e=c:c>e&&(e=c));return e===e?e:0}return 0};Tee.Series.prototype.calcColorEach=function(){this.isColorEach="yes"==this.colorEach};Tee.Series.prototype.stackMaxValue=function(){if("100"==this.stacked)return 100;var b=Tee.Series.prototype.maxYValue;if("no"==this.stacked)return b.call(this);for(var b=b.call(this),d=this.data.values,a=d.length,c;a--;)c=d[a],void 0===c&&(c=0),b=Math.max(b,this.pointOrigin(a,!1)+c);return b};
Tee.Series.prototype.dataText=function(b,d,a,c){function e(a,b){return c?f?[a,b]:[a,""]:a+(b?" "+b:"")}var f=a?this.labelOrTitle(b):this.data.labels[b];return"value"==d?this.valueText(b):"percent"==d?this.toPercent(b):"percentlabel"==d?e(this.toPercent(b),f):"valuelabel"==d||"auto"==d?e(this.valueText(b),f):"label"==d?f||"":"index"==d?b.toFixed(0):"labelvalue"==d?e(f,this.valueText(b)):"labelpercent"==d?e(f,this.toPercent(b)):this.valueOrLabel(b)};Tee.Series.prototype.legendText=Tee.Series.prototype.dataText;
Tee.Series.prototype.count=function(){return this.data.values.length};Tee.Series.prototype.legendCount=function(){return this.count()};Tee.Series.prototype.legendColor=function(b){return this.isColorEach&&-1!=b?this.getFill(b):this.format.fill};Tee.Series.prototype.addRandom=function(b,d,a){d||(d=1E3);b||(b=5);var c=this.data;c.values.length=b;a&&(c.x=Array(b));if(0<b){c.values[0]=Math.random()*d;a&&(c.x[0]=Math.random()*d);for(var e=1;e<b;e++)c.values[e]=c.values[e-1]+Math.random()*d-.5*d,a&&(c.x[e]=
Math.random()*d)}return this};Tee.Series.prototype.doSort=function(b,d){if("none"==b)return null;for(var a=this.data.values,c=a.length,e=Array(c),f=0;f<c;f++)e[f]=f;if("labels"==b){var a=this.data.labels,k,g,l=d?-1:1,h=d?1:-1;e.sort(function(b,c){k=a[b].toLowerCase();g=a[c].toLowerCase();return k<g?l:k==g?0:h})}else e.sort(d?function(b,c){return a[b]-a[c]}:function(b,c){return a[c]-a[b]});return e};O.prototype.each=function(b){for(var d=this.items.length,a=0;a<d;a++)b(this.items[a])};O.prototype.eachAxis=
function(b,d){for(var a=this.items.length,c;a--;)c=this.items[a],c.visible&&(!b||c.associatedToAxis(b))&&(c.__alwaysDraw||0<c.count())&&d(c)};Tee.Chart=function(b,d,a){function c(b){f.chart.addSeries(new (a||Tee.Bar)(f.chart)).data.values=b}var e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";this.isChrome=-1<e.indexOf("chrome");this.isAndroid=-1<e.indexOf("android");this.isMozilla="undefined"!==typeof window&&window.mozRequestAnimationFrame;this.language=window.navigator.userLanguage||
window.navigator.language;b&&(this.canvas="undefined"!==typeof HTMLCanvasElement&&b instanceof HTMLCanvasElement?b:"string"==typeof b?document.getElementById(b):b);this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=600,this.canvas.height=400);var f=this.canvas;(this.__webgl=f.__webgl)||0===f.clientWidth?this.bounds=new s(0,0,f.width,f.height):(this.bounds=new s(0,0,f.clientWidth,f.clientHeight),f.width=f.clientWidth,f.height=f.clientHeight);this.chartRect=new s;this.chartRect.automatic=
!0;this.chartRect.setFrom(this.bounds);this.palette=new Tee.Palette("#4466a3 #f39c35 #f14c14 #4e97a8 #2b406b #1d7b63 #b3080e #f2c05d #5db79e #707070 #f3ea8d #b4b4b4".split(" "));var k=this.aspect={chart:this,view3d:this.__webgl,ortogonal:!this.__webgl,rotation:0,elevation:315,perspective:50,clip:!0,_orthox:10,_orthoy:8,clipRect:function(a){var b=this.chart.ctx;b.save();b.beginPath();this.view3d?b.rect(a.x,a.y-this._orthoy,a.width+this._orthox,a.height+this._orthoy):b.rect(a.x,a.y,a.width,a.height);
b.clip()}};this.panel=new ba(this);this.walls={chart:this,visible:!0,left:new U(this),right:new U(this),bottom:new U(this),back:new U(this),draw:function(a,b){var c,e=this.chart.ctx,f=this.transparency,d=e.beginParent;this.visual=d?e.beginParent():null;0<f&&(c=e.globalAlpha,e.globalAlpha=(1-f)*c);var g=this.back.bounds;g.setFrom(a);if(b.view3d){var k=this.bottom.visible?this.bottom.size:0,l=this.left.size;0<l&&(g.x-=l,g.width+=l);0<k&&(g.height+=k);this.left.bounds.set(a.x-l,a.y,l,a.height+k);this.bottom.bounds.set(a.x,
a.getBottom(),a.width,k);this.back.format.depth=this.back.size}!this.back.visible||this.back.draw();this.chart.aspect.view3d&&(this.left.visible&&this.left.draw(),this.bottom.visible&&this.bottom.draw(),this.right.visible&&this.right.draw());0<f&&(e.globalAlpha=c);d&&e.endParent()}};b=this.walls.back.format;b.fill="rgb(240,240,240)";b.shadow.visible=!0;b.z=1;b=this.walls.left;b.format.fill="#BBAA77";b.format.depth=1;b.size=2;b=this.walls.bottom;b.format.depth=1;b.size=2;this.walls.right.visible=!1;
this.axes=new W(this);this.legend=new V(this);this.series=new O(this);this.title=new X(this,"blue");this.title.text="TeeChart";this.title.format.z=1;this.footer=new X(this,"red");this.footer.format.z=0;this.zoom=new $(this);this.scroll=new aa(this);this.tools=new Z(this);this.oldPos=new p;this.calcMouse=function(a,b){b.x=a.clientX;b.y=a.clientY;var c=this.canvas;if(c.getBoundingClientRect)c=c.getBoundingClientRect(),b.x-=c.left,b.y-=c.top;else if(c.offsetParent){do b.x-=c.offsetLeft,b.y-=c.offsetTop,
c=c.offsetParent;while(c)}};var g=new p(0,0);this.domousemove=function(a){var b=this.chart;if(!b.ctx)return!1;a=a||window.event;a.touches&&(a=a.touches[a.touches.length-1]);b.calcMouse(a,g);if(b.scroll.active){var c=b.scroll.direction,e="both"==c,f;if(e||"horizontal"==c)f=b.axes.bottom.fromSize(b.oldPos.x-g.x),b.axes.top.scroll(f),b.axes.bottom.scroll(f);if(e||"vertical"==c)f=-b.axes.left.fromSize(b.oldPos.y-g.y),b.axes.left.scroll(f),b.axes.right.scroll(f);b.oldPos.x=g.x;b.oldPos.y=g.y;b.scroll.done=
!0;if(b.onscroll)b.onscroll(a);b.scroll.done&&window.requestAnimFrame(function(){b.draw()});return!1}if(b.zoom.active){if(g.x!=b.oldPos.x||g.y!=b.oldPos.y)b.zoom.change(g),window.requestAnimFrame(function(){b.draw()}),b.zoom.done=!0;return!1}b.newCursor=null;b.tools.mousemove(g);b.series.mousemove(g);b.legend.mousemove(g);b.title.mousemove(g);b.mousemove&&b.mousemove(g);a=this.chart.canvas.style;b.newCursor?a.cursor!=b.newCursor&&(b.oldCursor=a.cursor,a.cursor=b.newCursor):void 0!==b.oldCursor&&a.cursor!=
b.oldCursor&&(a.cursor=b.oldCursor);return!0};var l=new p(0,0);this.domousedown=function(a){a=a||window.event;var b=!1,c=this.chart;c.calcMouse(a.touches?a.touches[0]:a,l);var e=c.series.anyUsesAxes()&&c.chartRect.contains(l);doubleTap(c);c.zoom.enabled&&twoFingersZoom(c,c.zoom);e=c.series.anyUsesAxes()&&c.chartRect.contains(l);a.touches?1<a.touches.length?c.scroll.active=!1:(c.scroll.active=c.scroll.enabled&&e,c.scroll.active&&(c.zoom.active=!1)):(c.zoom.active=a.button==c.zoom.mouseButton&&c.zoom.enabled&&
e,c.scroll.active=a.button==c.scroll.mouseButton&&c.scroll.enabled&&e);c.zoom.done=!1;c.scroll.done=!1;c.oldPos=l;0===a.button?(b=c.tools.mousedown(a),b||(b=c.series.mousedown(a))||(b=c.legend.mousedown(a)),b||c.mousedown&&(b=c.mousedown(a)),c.canvas.oncontextmenu=null):2==a.button&&(c.canvas.oncontextmenu=function(){return!1});b?c.zoom.active=c.scroll.active=!1:b=c.zoom.active||c.scroll.active;a.preventDefault?a.preventDefault():a.cancelBubble=!0;b&&(c=a.target||a.fromElement)&&c.setPointerCapture&&
a.pointerId&&c.setPointerCapture(a.pointerId);return!b};this.domouseup=function(a){a=a||window.event;var b=this.chart,c;b.zoom.active=!1;b.scroll.active=!1;if(b.zoom.done){if(b.zoom.apply()&&b.onzoom)b.onzoom();b.draw();c=!0}else if(c=b.scroll.done,!c){c=b.series.clicked(b.oldPos);if(!c&&(c=b.tools.clicked(b.oldPos),!c&&(c=b.title.clicked(b.oldPos))&&b.title.onclick))b.title.onclick(b.title);c||b.mouseup&&(c=b.mouseup(a))}b.zoom.old=null;b.zoom.done=!1;b.scroll.done=!1;c?a.preventDefault?a.preventDefault():
a.cancelBubble=!0:b.canvas.oncontextmenu=null;(b=a.target||a.fromElement)&&b.releasePointerCapture&&a.pointerId&&b.releasePointerCapture(a.pointerId)};f.onpointerdown=f.ontouchstart=this.domousedown;f.onpointerup=f.ontouchend=this.domouseup;f.onpointermove=f.ontouchmove=this.domousemove;this._doWheel=function(a){var b=this.chart;if(b.zoom.wheel.enabled){a=a||window.event;var c=b.zoom.wheel.factor*(a.wheelDelta?a.wheelDelta/120:a.detail?-a.detail/3:0);if(0<Math.abs(c)){var e={x:0,y:0};b.calcMouse(a,
e);b.chartRect.contains(e)&&(b.axes.each(function(){var a=this.maximum-this.minimum;0<a&&(a=c*a*.05,this.setMinMax(this.minimum+a,this.maximum-a))}),b.draw(),a.returnValue=!1,a.preventDefault&&a.preventDefault());for(a=0;f=b.tools.items[a++];)f instanceof Tee.ToolTip&&f.active&&f.mousemove(e)}}else{a=0;for(var f;f=b.tools.items[a++];)f instanceof Tee.ToolTip&&f.active&&f.hide()}};f.addEventListener&&f.addEventListener("DOMMouseScroll",this._doWheel,!1);f.onmousewheel=this._doWheel;f.onmouseout=function(a){a&&
!a.target.setCapture&&(this.chart.scroll.active=!1);this.chart.series.mouseout();this.chart.tools.mouseout()};this.addSeries=function(a){a.setChart(a,this);null!=a.donutArray&&"undefined"!==a.donutArray&&a.linkDonutsToChart();var b=this.series.items,c=b.indexOf(a);-1==c&&(c=b.push(a)-1);""===a.title&&(a.title="Series"+(1+c).toString());""===a.format.fill&&(a.format.fill=this.palette.get(c));return a};this.removeSeries=function(a){var b=this.series.items;a=b.indexOf(a);-1!=b&&b.splice(a,1)};f.chart=
this;if(d&&0<d.length)if(d[0]instanceof Array)for(b=0;b<d.length;b++)c(d[b]);else c(d);this.getSeries=function(a){return this.series.items[a]};this.draw=function(a){var b=this.series,c=this.chartRect;a=this.ctx=a||(this.canvas.getContext?this.canvas.getContext("2d"):null);if(!a)throw"Canvas does not provide Context";Tee.Scroller&&this instanceof Tee.Scroller&&a.clearRect(0,0,this.canvas.width,this.canvas.height);c.automatic&&c.setFrom(this.bounds);for(var e=b.items.length,f,d=!1,g=!1,l=1,q=b.visibleCount(),
p=0;e--;)f=b.items[e],f.visible&&(f.initZ(p,q),p++,f._paintAxes&&(d=!0),f._paintWalls&&(g=!0),f.maxZ&&f.maxZ>l&&(l=f.maxZ));this.walls.left.format.depth=l;this.walls.bottom.format.depth=l;this.walls.back.format.z=l;this.panel.draw();c.automatic&&this.panel.margins.apply(c);this.title.tryDraw(!0);this.footer.tryDraw(!1);b.beforeDraw();this.legend.visible&&(this.legend.calcrect(),this.legend.draw());k.view3d&&!this.__webgl&&(c.y+=k._orthoy,c.height-=k._orthoy,c.width-=k._orthox);var b=this.axes,B;this.series.anyUsesAxes()&&
(b.each(A.adjustRect),b.each(A.calcRect),this.walls.visible&&g&&this.walls.draw(c,this.aspect),b.visible&&d&&(0<b.transparency&&(B=a.globalAlpha,a.globalAlpha=(1-b.transparency)*B),c=a.beginParent,b.visual=c?a.beginParent():null,b.each(A.draw),c&&a.endParent(),0<b.transparency&&(a.globalAlpha=B)));this.series.draw();this.tools.draw();this.zoom.active&&this.zoom.draw();if(this.ondraw)this.ondraw(this);this.isNLc&&(B=new Tee.Format(this),a=this.ctx,a.save(),a.font="13px Courier",c=B.textWidth("TeeChart Evaluation (c)Steema Software 2018"),
c={x:this.chartRect.x+this.chartRect.width/2-c/2,y:this.bounds.height/2,width:c,height:B.textHeight("H")},a.translate(this.chartRect.x+this.chartRect.width/2,this.bounds.height/2),a.rotate(-30*Math.PI/180),a.translate(-(this.chartRect.x+this.chartRect.width/2),-(this.bounds.height/2)),B.font.fill="rgba(64,108,128, 0.55)",B.drawText(c,"TeeChart Evaluation (c)Steema Software 2018"),a.restore())};this.toImage=function(a,b,c){if(a=document.getElementById(a))a.src=""!==b?this.canvas.toDataURL(b,c):this.canvas.toDataURL()}};
Tee.CustomBar=function(b,d){Tee.Series.call(this,b,d);this.sideMargins=100;this.useOrigin=!0;this.origin=0;this.continuous=!1;this.marks.visible=!0;this.marks.location="end";this.hover.enabled=!0;this.offset=0;this.barSize=70;this.barStyle="bar";var a=1,c=this.format;c.fill="";c.stroke.fill="black";c.shadow.visible=!0;c.round.x=4;c.round.y=4;c.gradient.visible=!0;c.depth=1;this.stacked="no";this.drawBar=function(a,b){var e=c.depth,f=c.z,d=this.chart.ctx;b||(b=this.barStyle);c.depth=.5*Math.min(this.yMandatory?
a.width:a.height,200)/100;if(0<a.width&&0<a.height){"side"!==this.stacked&&(c.z+=.5*(1-c.depth));if("bar"===b)c.cube(a);else if("line"===b){var g;d.beginPath();d.z=c.z+.5*c.depth;this.yMandatory?(g=a.x+.5*a.width,d.moveTo(g,a.y),d.lineTo(g,a.y+a.height)):(g=a.y+.5*a.height,d.moveTo(a.x,g),d.lineTo(a.x+a.width,g))}else"cylinder"===b?c.cylinder(a,1,this.yMandatory):"cone"===b?c.cylinder(a,0,this.yMandatory):"ellipsoid"===b&&this.chart.__webgl?(d.depth=c.depth,d.z=c.z,d.image=this.image,d.ellipsoid(a,
this.yMandatory)):(c.z+=.5*c.depth,c.ellipsePath(this.chart.ctx,a.x+.5*a.width,a.y+.5*a.height,a.width,a.height));c.depth=e;c.z=f;return!0}return!1};this.countAll=function(a){var b=this.chart.series.items,c=0,e=b.length,f,d;for(f=0;f<e&&(d=b[f],d!=this||!a);f++)d.visible&&d.constructor==this.constructor&&(c+=d.data.values.length);return c};var e=new p,f,k=new s,g={total:0,index:0};this._margin=0;this.calcBarOffset=function(a){var b="sideAll"==this.stacked;this.countall=b?this.countAll(!0):0;b=b?this.countAll():
this.data.values.length;1<b&&(a/=b);"no"==this.stacked?(a/=g.total,e.x=a*this.barSize*.01*(1==g.total?-.5:g.index-.5*g.total),b=g.total):(e.x=.5*-a,b=1);e.y=a*this.barSize*.01;this._margin=.5*b*e.y+this.sideMargins*b*(a-e.y)*.005;"no"!=this.stacked&&(e.x+=this.offset*a*.01+.5*(a-e.y))};this.calcStackPos=function(a,b){var c,e,d;this.isStacked?(this.calcStack(a,b,this.data.values[a]),c=this.pointOrigin(a,!1),d=this.mandatoryAxis,this.isStack100?(e=this.pointOrigin(a,!0),f=0===e?d.endPos:d.calc(100*
c/e)):f=d.calc(c)):(this.calc(a,b),"sideAll"==this.stacked&&(e=this.notmandatory.calc(this.countall+a),this.yMandatory?b.x=e:b.y=e))};var l=!1;this.drawSortedValues=function(b){var c=this.sortedOptions.sortedDrawAnimation;if(this.sortedOptions.sorted!=b&&!this.sortedOptions.sorting&&c&&!c.running){this.sortedOptions.sorted=b;this.sortedOptions.sorted&&this.sortValues();var e=this.sortedOptions.sorted?this.sortedOptions.originalValues.slice():this.sortedOptions.sortedValues.slice(),f=this.data.values,
d=this.sortedOptions.sorted?this.sortedOptions.sortedValues.slice():this.sortedOptions.originalValues.slice(),g=this,k=this.sortedOptions;c.chart=this.chart;"horizontalchange"==k.sortingAnimationType?(c.doStep=function(b){1>b&&(a=b,g.draw())},c.onstop=function(){a=1;if(k.sorted)for(var b=0;b<e.length;b++)f[b]=d[b]},c.onstart=function(){if(!k.sorted)for(var a=0;a<e.length;a++)f[a]=d[a]}):(c.doStep=function(a){if(1>a)for(var b=0;b<e.length;b++)f[b]=e[b]+(d[b]-e[b])*a},c.onstop=function(){a=1;for(var b=
0;b<e.length;b++)f[b]=d[b];c.running=!1},c.onstart=function(){c.running=!0});c.animate();this.data.labels=this.sortedOptions.sorted?this.sortedOptions.sortedLabels.slice():this.sortedOptions.originalLabels.slice();this.chart.draw()}};this.draw=function(){var b=this.data.values.length;if(0<b){this.initOffsets();var d=new p,g=this.chart.ctx;this.hover.enabled||(c.stroke.prepare(),c.shadow.prepare(g));var r=this.hover.enabled,t="line"===this.barStyle,v=this.data.styles;r&&null!=this.format.image.url&&
(this.hover.image.url=this.format.image.url,this.hover.image.repeat=this.format.image.repeat,this.hover.image.backFill=this.format.image.backFill);for(var w=c.z=0;w<b;w++)if(!this.isNull(w)){this.calcStackPos(w,d);var y=new Tee.Point;1>a&&(this.calcStackPos(this.sortedOptions.sortedValuesIndices.findIndex(function(a){return a==w}),y),d.x=this.sortedOptions.sorted?(-d.x+y.x)*a+d.x:(d.x-y.x)*a+y.x);this.calcBarBounds(d,k,e,f instanceof Array?f[w]:f);var y=this.drawBar(k,v?v[w]:null),q=r&&this.over==
w,x=q?this.hover:c;g.fillStyle=this.getFillStyle(k,this.getFill(w,""===x.fill?c:x));this.format.gradient.visible||(x.fill=g.fillStyle);r&&x.shadow.prepare(g);q&&(null==this.format.image.url||l?g.fill():(l=!0,c.draw(g,null,k)));y&&(x.draw(g,null,k),t||""!==x.stroke.fill)&&(r&&x.stroke.prepare(),!q&&t&&(g.strokeStyle=g.fillStyle),g.shadowColor="transparent",g.stroke(),x.shadow.visible&&(g.shadowColor=x.shadow.color))}}};this.calcColorEach=function(){this.chart.series.visibleCount(this,Tee.CustomBar,
g);this.isColorEach="yes"==this.colorEach||"auto"==this.colorEach&&1==g.total};this.initOffsets=function(){var a=this.notmandatory,b=this.mandatoryAxis,c=this.yMandatory?this.maxXValue()-this.minXValue():this.maxYValue()-this.minYValue();"sideAll"==this.stacked?this.calcBarOffset(a.axisSize):this.calcBarOffset(0===c?a.axisSize:a.calcSize(c));if(this.useOrigin)if(this.origin instanceof Array)for(f=[],a=0;a<this.origin.length;a++)f[a]=b.calc(this.origin[a]);else f=b.calc(this.origin);else f=this.yMandatory?
b.inverted?b.startPos:b.endPos:b.inverted?b.endPos:b.startPos;b=this.stacked;this.isStacked="no"!==b&&"sideAll"!==b&&"side"!==b;this.isStack100="100"===b};this.clicked=function(a){this.initOffsets();var b=new p,c=this.data.values.length,d;for(d=0;d<c;d++)if(!this.isNull(d)&&(this.calcStackPos(d,b),this.calcBarBounds(b,k,e,f instanceof Array?f[d]:f),k.contains(a)))return d;return-1};this.markPos=function(a,b){var c=this.yMandatory,d=e.x+.5*e.y,g=this.marks;this.calcStackPos(a,b);if("sideAll"==this.stacked){var l=
this.notmandatory.calc(this.countall+a);c?b.x=l:b.y=l}l=this.useOrigin&&this.data.values[a]<(this.origin instanceof Array?this.origin[a]:this.origin);this.mandatoryAxis.inverted&&(l=!l);"center"==g.location&&(this.calcBarBounds(b,k,e,f instanceof Array?f[a]:f),g.canDraw(b.x,b.y,a,l)&&(c?b.y=k.y+.5*k.height+.5*g.bounds.height:b.x=k.x+.5*k.width-.5*g.bounds.width));var g=this.chart.aspect,w=g.view3d,y=0,q=0;w&&g.orthogonal&&(y=.5*g._orthox,q=.5*g._orthoy);c?(b.x+=w?d+y:d,w&&(b.y-=q)):(b.y+=w?d-q:d,
w&&(b.x+=y));return l};this.labelOrTitle=function(a){var b=this.title,c=this.data.labels[a];return 1<g.total?b||c:this.parent.labelOrTitle(a)};this.initZ=function(a,b){var c,e=this.format;if("side"!==this.stacked)for(e.z=0,e.depth=1;1<a;){if(a--,c=this.chart.series.items[a],c.visible&&c.constructor==this.constructor){e.z=c.z;e.depth=c.depth;break}}else Tee.Series.prototype.initZ.call(this,a,b);this.marks.format.z=e.z+.5*e.depth}};Tee.CustomBar.prototype=new Tee.Series;Tee.CustomBar.prototype.parent=
Tee.Series.prototype;Tee.CustomBar.constructor=Tee.CustomBar;Tee.Bar=function(b,d){Tee.CustomBar.call(this,b,d);this.calc=function(a,b){this.isStacked?this.calcStack(a,b,this.data.values[a]):this.parent.calc.call(this,a,b)};this.horizMargins=function(a){this.initOffsets();a.x=this._margin;a.y=this._margin};this.vertMargins=function(a){var b=this.marks,e=this.format.stroke,d=this.minYValue()<(this.origin instanceof Array?D(this.origin):this.origin);b.visible&&"center"!==b.location&&(a.y=b.arrow.length+
b.format.textHeight("Wj")+b.margins.top+b.margins.bottom,e=b.format.stroke);""!==e.fill&&(a.y+=2*e.size+1);d&&(a.x=a.y)};this.maxXValue=function(){return"sideAll"===this.stacked?this.countAll()-1:this.parent.maxXValue.call(this)};this.minYValue=function(){var a=this.parent.minYValue.call(this);return this.useOrigin?Math.min(this.origin instanceof Array?D(this.origin):this.origin,a):a};this.maxYValue=function(){if("sideAll"===this.stacked||"side"===this.stacked){var a=0,b,e=this.chart.series.items,
d=e.length,k;for(k=0;k<d;k++)b=e[k],b.visible&&b.constructor===this.constructor&&(b=b.parent.maxYValue.call(b),b>a&&(a=b));return a}return this.stackMaxValue()};this.calcBarBounds=function(a,b,e,d){b.x=a.x+e.x;b.width=e.y;this._vertAxis.inverted?(b.y=d,b.height=a.y-b.y):(b.y=a.y,b.height=d-a.y);0>b.height&&(b.y+=b.height,b.height=-b.height)}};Tee.Bar.prototype=new Tee.CustomBar;Tee.Bar.prototype.parent=Tee.CustomBar.prototype;Tee.HorizBar=function(b,d){Tee.CustomBar.call(this,b,d);this.yMandatory=
!1;this.format.gradient.direction="rightleft";this.maxMarkWidth=function(){var a=0,b,e,d=this.marks,k=this.count(),g;if(d.visible)for(b=this.marks.format,b.font.prepare(),e=0;e<k;e+=d.drawEvery)this.isNull(e)||(g=b.textWidth(this.markText(e)+"W"),g>a&&(a=g));return a};this.horizMargins=function(a){var b=this.marks,e=this.format.stroke,d=this.minXValue()<this.origin;b.visible&&"center"!==b.location&&(a.y=b.arrow.length+this.maxMarkWidth()+b.margins.left+b.margins.right,e=b.format.stroke);""!==e.fill&&
(a.y+=2*e.size+1);d&&(a.x=a.y)};this.vertMargins=function(a){this.initOffsets();a.x+=this._margin;a.y+=this._margin};this.maxYValue=function(){return"sideAll"==this.stacked?this.countAll()-1:this.parent.maxXValue.call(this)};this.minYValue=function(){return"sideAll"==this.stacked?0:this.parent.minXValue.call(this)};this.minXValue=function(){var a=this.parent.minYValue.call(this);return this.useOrigin?Math.min(this.origin,a):a};this.maxXValue=function(){return this.stackMaxValue()};this.calcBarBounds=
function(a,b,e,d){b.y=a.y+e.x;b.height=e.y;this._horizAxis.inverted?(b.x=a.x,b.width=d-a.x):(b.x=d,b.width=a.x-b.x);0>b.width&&(b.x+=b.width,b.width=-b.width)}};Tee.HorizBar.prototype=new Tee.CustomBar;Tee.HorizBar.prototype.parent=Tee.CustomBar.prototype;Tee.Bullet=function(b,d){function a(a,b){var d=0;if(0<a.values.length){a.barStates.push(c(a.values[0],d+b,a.barSize,a.colors[0],a.colors[0],a.gradientVisible));for(var d=d+a.values[0],g=1;g<a.values.length;g++)a.barStates.push(c(a.values[g],d+b,
a.barSize,a.colors[(g-1)%a.colors.length],a.colors[g%a.values.length],a.gradientVisible)),d+=a.values[g]}}function c(a,b,c,d,l,h){a=new Tee.HorizBar([a+b]);a.stacked="side";a.origin=b;a.barSize=c;a.marks.visible=!1;a.format.round.x=0;a.format.round.y=0;a.format.gradient.colors=[d,l];h?(a.format.gradient.direction="leftright",a.format.gradient.visible=!0):(a.format.gradient.visible=!1,a.format.fill=l,a.palette.colors=[l]);a.format.shadow.visible=!1;a.format.stroke.fill="rgba(0,0,0,0.0)";return a}Tee.HorizBar.call(this,
[b[0]],d?[d[0]]:[]);this.barSize=25;this.limit={origin:38,width:.2,height:35,color:"red",bar:null};this.marks.visible=!1;this.states={colors:["#111","#444","#777","#BBB","#EEE"],values:[10,10,10,10,10],barStates:[],barSize:50,gradientVisible:!1};a(this.states,this.origin);this.minValue=function(){return 1<=this.states.barStates.length?this.states.barStates[0].origin:0};this.maxValue=function(){return 1<=this.states.barStates.length?this.states.barStates[this.states.barStates.length-1].data.values[0]:
0};this.parentDraw=this.draw;this.draw=function(){var b,d;b=this.minValue();d=this.maxValue();this.chart.zoom.reset=function(){this.chart.axes.each(function(){this.automatic=!0});this.chart.axes.bottom.setMinMax(b,d)};this.states.barStates=[];a(this.states,this.origin);for(var k=0;k<this.states.barStates.length;k++)this.chart&&this.states.barStates[k].setChart(this.states.barStates[k],this.chart),this.states.barStates[k].draw();this.limit.bar=c(this.limit.width,this.limit.origin+this.origin,this.limit.height,
this.limit.color,this.limit.color,!1);this.limit.bar.setChart(this.limit.bar,this.chart);this.limit.bar.draw();this.parentDraw()}};Tee.Bullet.prototype=new Tee.HorizBar;Tee.Bullet.prototype.parent=Tee.HorizBar.prototype;Tee.CustomSeries=function(b,d){Tee.Series.call(this,b,d);this.stacked="no";this.invertedStairs=this.stairs=!1;this.continuous=!0;this.hover.enabled=!0;this.isStack100=this.isStacked=this.hover.line=!1;this.smooth=0;this.pointer=new function(a,b){this.setChart=function(a){this.chart=
a;this.format.setChart(a)};this.chart=a;this.inflateMargins=!0;var d=this.format=new Tee.Format(a);d.shadow.visible=!1;d.fill="";d.gradient.colors=["white","white","white"];d.gradient.visible=!0;d.shadow.visible=!0;this.colorEach=this.visible=!1;this.style="rectangle";this.height=this.width=12;this.draw=function(a,d,e,l){var h=this.chart.ctx;e.z=b.format.z;this.transform&&(h.save(),this.transform(a.x,a.y,d));d=.5*this.width;var m=.5*this.height;"cube"==this.style?(a={x:a.x-d,y:a.y-m,width:this.width,
height:this.height},l=Math.max(d,m)/50,e.z=.5*(b.format.z+b.format.depth)-.5*l,e.depth=l,e.cube(a),e.draw(h,null,a)):"rectangle"==this.style?e.rectangle(a.x-d,a.y-m,this.width,this.height):"ellipse"==this.style?e.ellipse(a.x,a.y,this.width,this.height):"sphere"==this.style?(e.depth=b.format.depth,e.sphere(a.x,a.y,this.width,this.height)):"cylinder"==this.style?(a={x:a.x-d,y:a.y-m,width:this.width,height:this.height},l=e.gradient,d=l.direction,m=l.colors.slice(0),l.direction="leftright",l.colors=[l.colors[1],
l.colors[0],l.colors[1]],e.cylinder(a,1,!0),e.draw(h,null,a),l.direction=d,l.colors=m):"cone"==this.style?(a={x:a.x-d,y:a.y-m,width:this.width,height:this.height},e.cylinder(a,0,!0),e.draw(h,null,a)):"triangle"==this.style?e.polygon([new p(a.x,a.y-m),new p(a.x-d,a.y+m),new p(a.x+d,a.y+m)]):"downtriangle"==this.style?e.polygon([new p(a.x,a.y+m),new p(a.x-d,a.y-m),new p(a.x+d,a.y-m)]):"diamond"==this.style?e.polygon([new p(a.x,a.y-m),new p(a.x-d,a.y),new p(a.x,a.y+m),new p(a.x+d,a.y)]):(h.beginPath(),
"cross"==this.style&&(h.moveTo(a.x-d,a.y),h.lineTo(a.x+d,a.y),h.moveTo(a.x,a.y-m),h.lineTo(a.x,a.y+m)),"x"==this.style&&(h.moveTo(a.x-d,a.y-m),h.lineTo(a.x+d,a.y+m),h.moveTo(a.x-d,a.y+m),h.lineTo(a.x+d,a.y-m)),e.stroke.prepare(l),h.stroke());this.transform&&h.restore()};this.setSize=function(a){this.height=this.width=a}}(this.chart,this);this.maxYValue=function(){return this.stackMaxValue()};this.calc=function(a,b){this.isStacked?this.calcStack(a,b,this.data.values[a]):Tee.Series.prototype.calc.call(this,
a,b)};this.calcColorEach=function(){this.isColorEach="yes"==this.colorEach||this.pointer.colorEach};this.initZ=function(a,b){var d,f=this.format;if("no"!==this.stacked)for(f.z=0,f.depth=1;1<a;){if(a--,d=this.chart.series.items[a],d.visible&&d.constructor==this.constructor){f.z=d.z;f.depth=d.depth;break}}else Tee.Series.prototype.initZ.call(this,a,b);this.marks.z=f.z+.5*f.depth}};Tee.CustomSeries.prototype=new Tee.Series;Tee.CustomSeries.prototype.drawPointers=function(){var b=this.data.values.length,
d=this.pointer.format,a="yes"==this.colorEach||this.pointer.colorEach;a||""!==d.fill||(d.fill=this.format.fill);var c=new p,e=d.gradient,f,k=d.fill,g=k;!a&&e.visible&&e.setEndColor(k);for(f=0;f<b;f++)this.isNull(f)||(this.calc(f,c),k=this.getFill(f,d),k!=g&&(e.visible?e.setEndColor(k):d.fill=k,g=k),this.getSize(f),this.pointer.draw(c,f,d,k),this.hover.enabled&&this.over==f&&this.pointer.draw(c,f,this.hover,k));a&&(d.fill=g)};Tee.CustomSeries.prototype.setChart=function(b,d){var a=Tee.Series.prototype.setChart;
a(b,d);b.pointer.setChart(d)};Tee.CustomSeries.prototype.clicked=function(b){var d=new p,a=new p,c=this.data.values.length,e;if(this.drawLine&&0<c&&(this.hover.line||!this.pointer.visible))for(this.calc(0,d),e=1;e<c;e++){this.calc(e,a);if(this.stairs){var f;f=this.invertedStairs?new p(a.x,d.y):new p(d.x,a.y);if(H(b,d,f,3)||H(b,f,a,3))return e}else if(H(b,d,a,3))return e;d.x=a.x;d.y=a.y}if(this.pointer.visible)for(d=new s,a=this.pointer,e=c-1;0<=e;e--)if(!this.isNull(e)&&(this.calc(e,d),this.getSize(e),
d.x-=.5*a.width,d.width=a.width,d.y-=.5*a.height,d.height=a.height,d.contains(b)))return e;return-1};Tee.CustomSeries.prototype.horizMargins=function(b){var d=this.pointer,a=d.format.stroke;d.visible&&d.inflateMargins&&(b.x=b.y=(""!==a.fill?a.size:0)+1+.5*d.width)};Tee.CustomSeries.prototype.vertMargins=function(b){var d=this.pointer,a=d.format.stroke;d.visible&&d.inflateMargins&&(b.x=b.y=(""!==a.fill?a.size:0)+1+.5*d.height)};Tee.CustomSeries.prototype.getSize=function(){};Tee.Line=function(b,d){Tee.CustomSeries.call(this,
b,d);this.drawLine=!0;this.treatNulls="dontPaint";var a=this.format;a.shadow.visible=!0;a.shadow.blur=10;a.lineCap="round";this.doDrawLine=function(b){var d=new p,f,k,g=this.data.values.length,l,h=0,m=g,n=this.notmandatory;this.smooth||this.data.x||(h=Math.max(0,(n.minimum|0)-1),m=Math.min(g,(n.maximum|0)+2));n=this.chart.aspect.view3d;b.beginPath();if(0<this.smooth&&"undefined"!==typeof Tee.drawSpline){f=Array(2*g);for(l=0;l<g;l++)this.calc(l,d),f[2*l]=d.x,f[2*l+1]=d.y;b.spline?b.spline(f):Tee.drawSpline(b,
f,this.smooth,!0)}else for(g="skip"!==this.treatNulls,l=h;l<m;l++)this.isNull(l)?g&&(h=-1):(this.calc(l,d),l==h||-1===h?(b.moveTo(d.x,d.y),h=0):(this.stairs&&(this.invertedStairs?b.lineTo(d.x,k):b.lineTo(f,d.y)),b.lineTo(d.x,d.y)),f=d.x,k=d.y);f=a.stroke;this.chart.isChrome&&a.shadow.visible&&(f.size=Math.max(1.1,f.size));b.z=a.z;b.depth=a.depth;d=f.fill;""===d&&(d=a.fill);f.prepare(d);a.shadow.prepare(b);n&&(b.fillStyle=a.fill,b.fill());""!==d&&b.stroke()};this.draw=function(){0<this.data.values.length&&
(this.isStacked="no"!=this.stacked,this.isStack100="100"==this.stacked,this.drawLine&&this.doDrawLine(this.chart.ctx),this.pointer.visible&&this.drawPointers())}};Tee.Line.prototype=new Tee.CustomSeries;Tee.PointXY=function(b,d){Tee.Line.call(this,b,d);this.hover.enabled=!0;this.pointer.visible=!0;this.drawLine=!1};Tee.PointXY.prototype=new Tee.Line;Tee.Series.prototype.cellRect=function(b,d,a){var c={total:0,index:-1};b.setFrom(this.chart.chartRect);this.chart.series.visibleCount(this,a,c);if(d&&
1<c.total){d=Math.round(Math.sqrt(c.total));a=Math.round(c.total/d);if(b.width>b.height){var e=d;d=a;a=e}b.width/=d;b.x+=c.index%d*1.03*b.width;b.height/=a;b.y+=1.03*(c.index/d|0)*b.height;b.width*=.94;b.height*=.94}return b};Tee.Pie=function(b,d){function a(a,b){b.x=h.x+Math.cos(a)*l;b.y=h.y+Math.sin(a)*l}Tee.Series.call(this,b,d);this.marks.style="percent";this.rotation=this.donut=0;this.colorEach="yes";this.continuous=this.useAxes=!1;this.angleWidth=360;this.maxRadius=100;var c=this.format;c.stroke.fill=
"black";c.shadow.visible=!0;c.gradient.visible=!0;c.gradient.direction="radial";c.gradient.colors=["white","white","white"];this.hover.enabled=!0;this.sort="values";this.orderAscending=!1;this.explode=null;this.marks.visible=!0;this.concentric=!1;this.getValue=function(a){return this.data.values[a]};this.calcCenter=function(a,b,c,d){this.explode&&(a=this.explode[a])&&(a=b*a*.01,d.x+=a*Math.cos(c),d.y+=a*Math.sin(c))};this.clicked=function(a){var b=this.chart.ctx,c=this.data.values.length,d,e;if(b.isPointInPath)for(r=
n=Math.PI*this.rotation/180,d=0;d<c;d++)if(e=m?m[d]:d,!this.isNull(e)&&(this.slice(b,e),b.isPointInPath(a.x,a.y)))return e;return-1};var e,f,k,g,l,h={x:0,y:0},m,n,r,t;this.getCenter=function(a){a.x=h.x;a.y=h.y;return g};this.slice=function(b,d){var m=new p;r+=2*Math.PI*(Math.abs(this.data.values[d])/e)/(360/this.angleWidth);h.x=f;h.y=k;this.calcCenter(d,g,.5*(n+r),h);0===this.donut?(m.x=h.x,m.y=h.y):a(n,m);this.chart.__webgl?(a(2*Math.PI-n,m),b.slice(m,h,g,n,r,l,c.tube,c.beveled)):(b.beginPath(),
b.moveTo(m.x,m.y),b.arc(h.x,h.y,g,n,r,!1),0!==this.donut&&(a(r,m),b.lineTo(m.x,m.y),b.arc(h.x,h.y,l,r,n,!0)),b.closePath());d==this.over&&(t=n);n=r};this.fill=function(a){return this.getFillStyle(new Tee.Rectangle(h.x-g,h.y-g,2*g,2*g),this.getFill(a))};this.slices=function(a){var b=this.chart.ctx,d=this.data.values.length,e,f;r=n=Math.PI*this.rotation/180;b.z=.5;b.depth=1;for(e=0;e<d;e++)f=m?m[e]:e,this.isNull(f)||(this.slice(b,f),a?c.shadow.prepare(b):b.fillStyle=this.fill(f),b.fill(),a||(f=c.stroke,
""!==f.fill&&(f.prepare(),b.stroke())))};var v=new s;this.draw=function(){if(0<this.data.values.length){var a=0,b=this.marks;c.shadow.visible&&(a+=2*c.shadow.height);b.visible&&(b.format.font.prepare(),a+=b.format.textHeight("Wj")+.5*b.arrow.length);this.cellRect(v,!this.concentric,Tee.Pie);f=v.x+.5*v.width;k=v.y+.5*v.height;g=.5*v.width;a=.5*(v.height-2*a);0>a&&(a=0);a<g&&(g=a);l=g*this.donut*.01;g/=100/this.maxRadius;e=R(this.data.values);m=this.doSort(this.sort,this.orderAscending);this.chart.__webgl||
this.slices(!0);this.slices(!1);this.hover.enabled&&-1!=this.over&&(a=this.hover,""!==a.stroke.fill&&(r=n=t,b=this.chart.ctx,this.slice(b,this.over),b.fillStyle=this.fill(this.over),a.draw(b,null,v)))}};this.drawMarks=function(){var a=Math.PI*this.rotation/180,b=a,c=this.data.values,d=c.length,l,n;this.marks.format.z=.5;for(n=0;n<d;n+=this.marks.drawEvery)l=m?m[n]:n,this.isNull(l)||(a+=2*Math.PI*(Math.abs(c[l])/e),b=.5*(b+a),h.x=f,h.y=k,this.calcCenter(n,g,b,h),this.marks.drawPolar(h,g,b,l),b=a)}};
Tee.Pie.prototype=new Tee.Series;Tee.Area=function(b,d){Tee.CustomSeries.call(this,b,d);this.useOrigin=!1;this.origin=0;this.drawLine=!0;var a=this.format;a.shadow.visible=!0;a.lineCap="round";a.stroke.fill="black";a.fill="";a.beveled=!0;a.depth=1;a.z=.5;var c=new s;this.draw=function(){var b=this.data.values.length;if(0<b){var d=this.mandatoryAxis,k=this.notmandatory,g,l=this.yMandatory;g=this.useOrigin?d.calc(this.origin):l&&d.inverted||!l&&!d.inverted?d.startPos:d.endPos;this.isStacked="no"!=this.stacked;
this.isStack100="100"==this.stacked;var h=new p,m,n,d=this.chart.ctx,r,t=this.isStacked,v=0,w=b;this.smooth||this.data.x||(v=Math.max(0,(k.minimum|0)-1),w=Math.min(b,(k.maximum|0)+2));d.depth=a.depth;d.z=a.z;d.beginPath();if(0<this.smooth&&"undefined"!==typeof Tee.drawSpline){r=Array(2*b);for(n=0;n<b;n++)this.calc(n,h),r[2*n]=h.x,r[2*n+1]=h.y;k=l?r[0]:r[1];d.spline?d.spline(r,!0):Tee.drawSpline(d,r,this.smooth,!0);if(t){var y=0;for(n=b-1;0<=n;n--)this.calcStack(n,h,0),r[y++]=h.x,r[y++]=h.y;d.lineTo(r[0],
r[1]);d.spline?d.spline(r,!0):Tee.drawSpline(d,r,this.smooth,!1)}}else if(this.calc(v,h),d.moveTo(h.x,h.y),k=l?h.x:h.y,m=l?h.y:h.x,this.stairs)for(n=v+1;n<w;n++)this.calc(n,h),d.lineTo(h.x,m),d.lineTo(h.x,h.y),m=l?h.y:h.x;else for(n=v+1;n<w;n++)this.calc(n,h),d.lineTo(h.x,h.y);if(t){if(0===this.smooth)for(n=w-1;n>=v;n--)this.calcStack(n,h,0),this.stairs?(d.lineTo(h.x,m),d.lineTo(h.x,h.y),m=l?h.y:h.x):d.lineTo(h.x,h.y)}else l?(d.lineTo(h.x,g),d.lineTo(k,g)):(d.lineTo(g,h.y),d.lineTo(g,k));d.closePath();
b=a.gradient;b.visible&&(b.colors[b.colors.length-1]=a.fill);this.bounds(c);d.__webgl&&(d.beveled=a.beveled);a.draw(d,null,c);this.pointer.visible&&this.drawPointers()}};this.minYValue=function(){var a=this.yMandatory?Tee.Series.prototype.minYValue.call(this):Tee.Series.prototype.minXValue.call(this);return this.yMandatory?this.useOrigin?Math.min(a,this.origin):a:a};this.minXValue=function(){var a=this.yMandatory?Tee.Series.prototype.minXValue.call(this):Tee.Series.prototype.minYValue.call(this);
return this.yMandatory?a:this.useOrigin?Math.min(a,this.origin):a};this.maxYValue=function(){var a=this.yMandatory?this.stackMaxValue():Tee.Series.prototype.maxXValue.call(this);return this.yMandatory?this.useOrigin?Math.max(a,this.origin):a:a};this.maxXValue=function(){var a=this.yMandatory?Tee.Series.prototype.maxXValue.call(this):this.stackMaxValue();return this.yMandatory?a:this.useOrigin?Math.max(a,this.origin):a};this.vertMargins=function(b){this.yMandatory&&""!==a.stroke.fill&&(b.y+=a.stroke.size+
2)};this.horizMargins=function(b){this.yMandatory||""===a.stroke.fill||(b.y+=a.stroke.size+2)}};Tee.Area.prototype=new Tee.CustomSeries;Tee.HorizArea=function(b,d){Tee.Area.call(this,b,d);this.yMandatory=!1};Tee.HorizArea.prototype=new Tee.Area;Tee.Donut=function(b,d){var a=100,c=[];Tee.Pie.call(this,b,d);this.donut=50;this.refreshWidth=function(){if(this.concentric){c=this.chart.series.items;for(var b=0,d=0,k=0;k<c.length;k++)c[k].visible&&b++;if(100==a)for(k=0;k<c.length;k++)c[k].donut<a&&(a=c[k].donut);
for(k=0;k<c.length;k++)c[k].visible&&(c[k].donut=a+(100-a)/b*d,d++)}}};Tee.Donut.prototype=new Tee.Pie;Tee.ActivityGauge=function(b,d){function a(a,b,c,d,e){a=new Tee.Donut([a],[b]);a.concentric=!0;a.marks.visible=!1;a.format.shadow.visible=!1;a.format.gradient.visible=!1;a.donut=c;a.maxRadius=d;a.angleWidth=e;a.rotation=270;a.visible=!1;return a}function c(a,b,c){var d=a.format,e=b.format;d.fill=b.chart.palette.colors[b.donutArray.length-1-c%b.chart.palette.colors.length];d.font.baseLine=e.font.baseLine;
d.font.fill=e.font.fill;d.font.style=e.font.style;d.font.textAlign=e.font.textAlign;d.gradient.colors=[e.gradient.colors[0][c]];d.gradient.direction=e.gradient.direction;d.gradient.offset.x=e.gradient.offset.x;d.gradient.offset.y=e.gradient.offset.y;d.gradient.stops=e.gradient.stops;d.gradient.visible=e.gradient.visible;d.round.x=e.round.x;d.round.y=e.round.y;d.shadow.blur=e.shadow.blur;d.shadow.color=e.shadow.color;d.shadow.height=e.shadow.height;d.shadow.visible=e.shadow.visible;d.shadow.width=
e.shadow.width;d.stroke.fill=e.stroke.fill.slice(0);d.stroke.cap=e.stroke.cap;d.stroke.dash=e.stroke.dash;d.stroke.join=e.stroke.join;d.stroke.size=e.stroke.size;d.transparency=e.transparency;a.fill=function(a){return d.gradient.visible?d.gradient.colors:d.fill}}Tee.Donut.call(this,[],[]);this.data={values:null!=b?b:[],labels:null!=d?d:[]};this.donutArray=[];this.maxDrawWidth=this.maxWidth=230;this.addRandom=function(a){for(var b=0;b<a;b++)this.add(Math.floor(20*Math.random()+10),String.fromCharCode(65+
b));return this};this.maxValue=function(){for(var a=this.data.values[0],b=0;b<this.data.values.length;b++)a<this.data.values[b]&&(a=this.data.values[b]);return a};if(null!=b)for(var e=0;e<b.length;e++){var f=40+60*e/b.length,k=40+60*(e+1)/b.length,g=Math.abs(this.maxDrawWidth*b[b.length-1-e]/this.maxValue());this.donutArray.push(a(b[b.length-1-e],d[b.length-1-e],f,k,g))}this.clicked=function(a){for(var b=-1,c=0;c<this.donutArray.length&&-1==b;)-1==b&&-1!=this.donutArray[c].clicked(a)&&(b=this.donutArray.length-
c-1),c++;return b};this.recalcWidth=function(){for(var a=0;a<this.donutArray.length;a++)this.donutArray[a].donut=40+60*a/this.data.values.length,this.donutArray[a].maxRadius=40+60*(a+1)/this.data.values.length,this.donutArray[a].angleWidth=Math.abs(this.maxDrawWidth*this.data.values[this.data.values.length-1-a]/this.maxValue())};this.minValue=function(){for(var a=this.data.values[0],b=0;b<this.data.values.length;b++)a>this.data.values[b]&&(a=this.data.values[b]);return a};this.add=function(b,c){var d=
a(b,c,0,0,0);this.donutArray.push(d);this.data.values.push(b);this.data.labels.push(c);null!=this.chart&&this.linkDonutsToChart()};this.draw=function(){for(var a=0;a<this.donutArray.length;a++){var b=this.donutArray[a].chart.ctx;c(this.donutArray[a],this,a);b.fillStyle=this.donutArray[a].getFillStyle(this.donutArray[a].chart.chartRect,this.donutArray[a].format.fill);this.recalcWidth();this.donutArray[a].draw()}};this.linkDonutsToChart=function(){for(var a=0;a<this.donutArray.length;a++)this.donutArray[a].setChart(this.donutArray[a],
this.chart)}};Tee.ActivityGauge.prototype=new Tee.Donut;Tee.Gantt=function(b,d){Tee.Series.call(this,b,d);this.yMandatory=!1;this.dateFormat="mediumDate";this.hover.enabled=!0;this.hover.round.x=this.hover.round.y=8;this.nextTasks=[];this.nextTasksStrokeStyle="Black";this.nextTasksPosition="back";this.colorEach="yes";this.data.start=this.data.values;this.data.x=[];this.data.end=[];this.height=70;this.margin=new p(6,6);this.continuous=!1;var a=this.format;a.shadow.visible=!0;a.round.x=a.round.y=8;
a.stroke.fill="black";a.gradient.visible=!0;var c=new s,e;this.addNextTask=function(a,b){this.nextTasks.push([a,b])};this.addRandom=function(a){a||(a=5);var b=this.data;b.x.length=a;b.start.length=a;b.end.length=a;if(0<a)for(var c,d,e=0;e<a;e++)b.x[e]=e,c=12*Math.random()|0,d=10*Math.random()|0,b.start[e]=new Date(2012,c,d),5>c&&(c=5+(7*Math.random()|0)),b.end[e]=new Date(2012,c,d+10*Math.random())};this.bounds=function(a,b){if(this.isNull(a))return!1;this.calc(a,b);b.y-=.5*e;b.width=this.data.end?
this.mandatoryAxis.calcSize(this.data.end[a]-this.data.start[a]):0;b.height=e;return!0};this.add=function(a,b,c,d){var e=this.data;e.labels.push(b);e.x.push(a);e.start.push(c);e.end.push(d)};this.clicked=function(a){var b=this.data.values.length,d;for(d=0;d<b;d++)if(this.bounds(d,c)&&c.contains(a))return d;return-1};this.draw=function(){function b(a){for(var c=0;c<a.nextTasks.length;c++)n.beginPath(),n.strokeStyle=a.nextTasksStrokeStyle,n.lineWidth=2,n.fillStyle="000000",r.push(Math.round(a.chart.axes.bottom.calc(a.data.end[a.nextTasks[c][0]]))),
r.push(Math.round(a.chart.axes.left.calc(a.data.x[a.nextTasks[c][0]]))),r.push(Math.round(a.chart.axes.bottom.calc(a.data.start[a.nextTasks[c][1]]))),r.push(Math.round(a.chart.axes.left.calc(a.data.x[a.nextTasks[c][1]]))),n.moveTo(r[0],r[1]),n.lineTo(r[0]-(r[0]-r[2])/2,r[1]),n.lineTo(r[0]-(r[0]-r[2])/2,r[3]),n.lineTo(r[2],r[3]),n.stroke(),r=[]}var d=this.data.values.length,g,l,h=this.hover,m=h.fill,n=this.chart.ctx,r=[];"back"==this.nextTasksPosition&&b(this);e=this.notmandatory.calcSize(.01*this.height);
for(g=0;g<d;g++)this.bounds(g,c)&&(l=h.enabled&&this.over===g?h:a,l.fill=this.getFillStyle(c,this.getFill(g,l)),l.rectangle(c));h.fill=m;"front"==this.nextTasksPosition&&b(this)};this.horizMargins=function(a){a.x=this.margin.x;a.y=this.margin.y};this.minYValue=function(){return this.parent.minXValue.call(this)-.5};this.maxYValue=function(){return this.parent.maxXValue.call(this)+.5};this.minXValue=function(){return D(this.data.start)};this.maxXValue=function(){return K(this.data.end)}};Tee.Gantt.prototype=
new Tee.Series;Tee.Gantt.prototype.parent=Tee.Series.prototype;Tee.Bubble=function(b,d){Tee.PointXY.call(this,b,d);var a=this.pointer;a.colorEach=!0;a.style="sphere";a.format.gradient.visible=!0;a.format.gradient.direction="radial";this.inflate=!0;this.data.radius=[];this.addRandom=function(a){var b=this.data;a||(a=5);b.values.length=a;b.x=null;b.radius=[];b.radius.length=a;if(0<a)for(var d=0;d<a;d++)b.values[d]=1E3*Math.random(),b.radius[d]=50+150*Math.random()}};Tee.Bubble.prototype.initZ=function(){this.parent.prototype.initZ.call(this);
this.format.marks.z=this.format.z-1};Tee.Bubble.prototype=new Tee.PointXY;Tee.Bubble.prototype.getSize=function(b){b=this.data.radius?this._vertAxis.calcSize(this.data.radius[b]):0;this.pointer.width=b;this.pointer.height=b};Tee.Bubble.prototype.horizMargins=function(b){this.calcWidth=function(b){this.getSize(b);b=1+.5*this.pointer.width;var a=this.pointer.format.stroke;""!==a.fill&&(b+=a.size);return b};this.pointer.visible&&this.inflate&&(b.x=this.calcWidth(0),b.y=this.calcWidth(this.count()-1))};
Tee.Bubble.prototype.vertMargins=function(b){this.calcHeight=function(a){this.getSize(a);a=1+.5*this.pointer.height;var b=this.pointer.format.stroke;""!==b.fill&&(a+=b.size);return a};if(this.pointer.visible&&this.inflate){var d,a,c=0,e=0,f=this.count(),k={x:0,y:0};if(0<f){this.calc(0,k);d=a=k.y;for(var g=1;g<f;g++)this.calc(g,k),k.y<d?c=g:k.y>a&&(e=g);b.x=this.calcHeight(e);b.y=this.calcHeight(c)}}};Tee.Volume=function(b,d){Tee.Bar.call(this,b,d);this.barStyle="line";this.colorEach=this.marks.visible=
!1;var a=this.format;a.shadow.visible=!1;a.gradient.visible=!1;a.stroke.fill=""};Tee.Volume.prototype=new Tee.Bar;Tee.Candle=function(b,d){Tee.PointXY.call(this,b,d);var a=this.format;a.z=.5;a.depth=.1;this.pointer.width=7;this.pointer.format.stroke.visible=!1;var c=this.higher=this.pointer.format;c.fill="green";var e=this.lower=new Tee.Format(this.chart);e.fill="red";e.stroke.visible=!1;this.style="candle";this.setChart=function(a,b){var c=Tee.PointXY.prototype.setChart;c(a,b);e.setChart(b)};this.draw=
function(){var b=this.data,d=b.values.length,g,l=new p,h=this.pointer,m=.5*h.width,n,r,t,v=this.mandatoryAxis,w,y,q=this.chart.ctx,x,B;q.z=a.z+.5*a.depth;for(g=0;g<d;g++)this.isNull(g)||(this.calc(g,l),B=l.x,n=v.calc(b.open[g]),r=v.calc(b.high[g]),t=v.calc(b.low[g]),l.y>n?(w=n,y=l.y-n,x=e):(w=l.y,y=n-w,x=c),"bar"==this.style?(q.beginPath(),q.moveTo(B,r),q.lineTo(B,t),q.moveTo(B-m,n),q.lineTo(B,n),q.moveTo(B,l.y),q.lineTo(B+m,l.y),x.stroke.prepare(x.fill),q.stroke()):(x.depth=m/100,x.z=a.z+.5*a.depth-
.5*x.depth,n={x:B-m,y:w,width:h.width,height:y},"cylinder"===this.pointer.style?x.cylinder(n,1,!0):x.cube(n),x.draw(q,null,n),this.hover.enabled&&this.over==g&&this.hover.rectangle(B-m,w,h.width,y)),"openclose"!=this.style&&(r<w||t>w+y)&&(q.z=a.z+.5*a.depth,q.beginPath(),q.moveTo(B,w),q.lineTo(B,r),q.moveTo(B,w+y),q.lineTo(B,t),this.hover.enabled&&this.over==g?this.hover.stroke.prepare(x.fill):x.stroke.prepare(x.fill),q.stroke()))};this.minYValue=function(){return 0<this.data.low.length?D(this.data.low):
0};this.maxYValue=function(){return 0<this.data.high.length?K(this.data.high):0};this.addRandom=function(a){var b=this.data;a||(a=10);b.values.length=a;b.close=b.values;b.open?b.open.length=a:b.open=Array(a);b.high?b.high.length=a:b.high=Array(a);b.low?b.low.length=a:b.low=Array(a);if(0<a)for(var c=25+100*Math.random(),d,e=0;e<a;e++)d=b.open[e]=c,c=b.close[e]=c+25*Math.random()-12.5,b.high[e]=Math.max(d,c)+15*Math.random(),b.low[e]=Math.min(d,c)-15*Math.random()}};Tee.Candle.prototype=new Tee.PointXY;
Tee.Candle.prototype.clicked=function(b){var d=this.pointer.width,a=this.mandatoryAxis,c=this.notmandatory,e=this.data,f=e.values.length,k=new s,g,l,h;k.width=d;for(g=0;g<f;g++)if(!this.isNull(g)&&(k.x=c.calc(g)-.5*d,l=a.calc(e.open[g]),h=a.calc(e.close[g]),k.y=l>h?h:l,k.height=Math.abs(l-h),k.contains(b)))return g;return-1};Tee.Candle.prototype.vertMargins=function(){};Tee.Polar=function(b,d){var a,c;function e(a,b,c){if(a.visible){var d=a.axisPos;a.axisPos=b;a.startPos=c-h;a.endPos=c+h;b=a.z;a.z=
1-.5*a.chart.walls.back.size-.1;a.drawAxis();a.axisPos=d;a.z=b}}function f(b,d){var e=b.width,f=b.height;a=b.x+.5*e;c=b.y+.5*f;h=.5*Math.min(e,f);d.visible&&d.labels.visible&&(e=d.labels.format.textHeight("W"),h-=e)}Tee.CustomSeries.call(this,b,d);this.pointer.visible=!0;this.rotation=0;this.useOrigin=this.continuous=this._paintWalls=this._paintAxes=!1;this.origin=0;var k={x:0,y:0},g,l=this.format;c=a=0;var h,m=Math.PI/180;l.stroke.fill="black";l.z=.5;this.calc=function(b,d){var e=this.data,f=e.values[b],
g=this.mandatoryAxis,e=m*(this.rotation+(e.x?e.x[b]:360*b/e.values.length)),f=(g.inverted?g.maximum-f:f-g.minimum)*h/(g.maximum-g.minimum);d.x=a+Math.cos(e)*f;d.y=c+Math.sin(e)*f};this.beforeDraw=function(){var b;f(this.chart.chartRect,this.notmandatory);var d=this.chart.walls;if(d.visible&&(b=d.back,b.visible)){var g=b.format;b=g.z;g.z=1;g.ellipse(a,c,2*h,2*h);g.z=b}if(this.chart.axes.visible){var g=this.notmandatory,k=g.grid.format.stroke,l=this.mandatoryAxis,p=0,q=this.chart.ctx,x,B=10,E=g.rotation||
0;if(g.visible&&g.labels.visible){var s={x:0,y:0,width:0,height:0},G=g.labels.format,z=G.textHeight("W"),u=h+.8*z,B=Math.max(10,90/(h/z|0));b=G.z;G.z=.6;for(p=0;360>p;)x=m*(p+E),s.x=a+Math.cos(x)*u,s.y=c+Math.sin(x)*u-.5*z,G.drawText(s,""+p),p+=B;G.z=b}if(g.visible&&g.grid.visible){b=g.increment||10;q.z=1-.5*d.back.size-.1;q.beginPath();for(p=0;360>p;)x=m*(p+E),q.moveTo(a,c),q.lineTo(a+Math.cos(x)*h,c+Math.sin(x)*h),p+=b;k.prepare(k.fill,q);q.stroke()}if(l.visible&&l.grid.visible){p=l.roundMin();
k=l.grid.format;x=2*h/(l.maximum-l.minimum);b=k.z;k.z=1-.5*d.back.size-.1;for(q.z=k.z;p<l.maximum;)d=(p-l.minimum)*x,k.ellipse(a,c,d,d),p+=l.increm;k.z=b}e(l,a,c);e(g,c,a)}};this.draw=function(){f(this.chart.chartRect,this.notmandatory);var b=this.data.values.length,d;g=[];for(d=0;d<b;d++)this.isNull(d)||(this.calc(d,k),g.push({x:k.x,y:k.y}));b=g.length;if(0<b){if("bar"==this.style){var e=this.chart.ctx;e.beginPath();for(d=0;d<b;d++)e.moveTo(a,c),e.lineTo(g[d].x,g[d].y);this.format.stroke.prepare(this.format.fill,
e);e.stroke()}else l.polygon(g);this.pointer.visible&&this.drawPointers()}};this.minYValue=function(){var a=Tee.Series.prototype.minYValue.call(this);return this.useOrigin?Math.min(a,this.origin):a};this.maxYValue=function(){var a=this.stackMaxValue();return this.useOrigin?Math.max(a,this.origin):a}};Tee.Polar.prototype=new Tee.CustomSeries;"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Tee.PaletteSeries=function(b,d){Tee.Series.call(this,
b,d);var a=this.palette;a.colors=Tee.RainbowPalette();var c,e;this._range=this._min=0;this.prepareColors=function(){var b=a.colors,d;e=b.length;c=Array(e);for(var g=0;g<e;g++)d=b[g].trim(),7==d.length?c[g]={r:parseInt(d.substr(1,2),16),g:parseInt(d.substr(3,2),16),b:parseInt(d.substr(5,2),16),a:0}:"rgb("==d.substr(0,4)&&(d=d.slice(4,d.length-1).split(","),c[g]={r:d[0],g:d[1],b:d[2],a:d[3]||0})};this.getColor=function(b){b=(b-this._min)/this._range*(e-1)|0;return c[a.inverted?e-1-b:b]};this.legendCount=
function(){return this.palette.colors?this.palette.colors.length:0}};Tee.PaletteSeries.prototype=new Tee.Series;Tee.PaletteSeries.prototype.legendColor=function(b){var d=this.palette,a=d.colors,c=d.inverted;this.chart.legend.inverted&&(c=!c);return d.grayScale?(b=255*b/a.length|0,c&&(b=255-b),"rgb("+b+","+b+","+b+")"):a?a[c?b:this.legendCount()-b-1]:this.format.fill};Tee.PaletteSeries.prototype.legendText=function(b){b=-1+this.legendCount()-b;return(this._min+b*this._range/(this.palette.colors.length-
1)).toFixed(this.decimals)};Tee.DOMTip=function(){var b,d=8,a,c=!1,e,f,k,g,l,h,m,n,r=0,t,v,w,y,q,x="undefined"!==typeof document&&document.all?!0:!1,s;return{show:function(g,l,p,r,u){u&&(k=u,u.findPoint||(d=0,c=!0));t||(e=document.createElement("style"),a=document.createElement("style"),h="",t=document.createElement("div"),b=document.createElement("div"),t.setAttribute("id","teetip1"),b.setAttribute("id","teetiparrow1"),t.className="teetip",b.className="teetiparrow",t.setAttribute("style",r),h=t.style.getPropertyValue("border-color"),
m=t.style.getPropertyValue("background-color"),f=t.style.getPropertyValue("border-width"),n=t.style.getPropertyValue("border-radius"),n=n.substring(0,n.length-2),0==f.length?f=0:(f=f.substring(0,f.length-2),f*=2),a.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+h+" transparent transparent transparent;bottom: -"+2*d+"px;left: 25px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+
(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" transparent transparent transparent;}",document.head.appendChild(a),document.head.appendChild(e),document.body.appendChild(t),t.appendChild(b),v=t.style,v.opacity=0,x&&(v.filter="alpha(opacity=0)"));q=p;v.display="block";v.position="absolute";t.innerHTML=b.outerHTML+g;v.width=l?l+"px":"auto";!l&&x&&(v.width=t.offsetWidth);300<t.offsetWidth&&(v.width="300px");s=t.offsetWidth;w=parseInt(t.offsetHeight,10)+3;t.timer&&clearInterval(t.timer);
t.timer=setInterval(function(){Tee.DOMTip.fade(1)},10);document.onmousemove=this.pos},pos:function(b){function r(a,b){var c=k.pointer;y=new Tee.Animation(k,function(d){1>d&&(k.chart.draw(),G(a,c.secondCircleRadius*d,c.fill,c.secondCircleOpacity,b),G(a,c.firstCircleRadius*d,c.fill,c.firstCircleOpacity,b))});y.onstop=function(){k.chart.draw();G(a,c.secondCircleRadius,c.fill,c.secondCircleOpacity,b);G(a,c.firstCircleRadius,c.fill,c.firstCircleOpacity,b)};y.duration=c.animationDuration;y.animate()}function G(a,
b,c,d,e){e.strokeStyle=c;e.fillStyle=c;e.globalAlpha=d;e.lineWidth=b;e.beginPath();e.ellipse(a.x,a.y,b/2,b/2,0,0,7,!1);e.stroke()}function z(){if(b.target.chart){b.target.chart.draw();var a,c=new p,d,e,f,h=k.pointer;a=H?Math.round(u.axes.left.fromPos(b.layerY)):Math.round(u.axes.bottom.fromSizeCalcIndex(b.clientX-u.canvas.getBoundingClientRect().left-u.axes.bottom.startPos));if(b.target==u.canvas)for(var m=0;m<u.series.items.length;m++)d=H?Math.abs(u.series.items[m].data.values[a]-u.axes.bottom.fromPos(b.layerX)):
Math.abs(u.series.items[m].data.values[a]-u.axes.left.fromPos(b.layerY)),0==m?(e=d,u.series.items[m].calc(a,c),f=u.series.items[m]):d<e&&(u.series.items[m].calc(a,c),e=d,f=u.series.items[m]);d=b.target.chart.ctx;l?-1!=a&&l!=f&&(l=f,h.animationVisible&&r(c,d)):l=f;-1!=a&&!g||-1==a?g=a:-1!=a&&g!=a&&(g=a,h.animationVisible&&r(c,d));G(c,h.secondCircleRadius,h.fill,h.secondCircleOpacity,d);G(c,h.firstCircleRadius,h.fill,h.firstCircleOpacity,d)}}if(k){k.findPoint?(d=8,c=!1):(d=0,c=!0);if(q)var u=q.chart,
A=u.chartRect,H=u.axes.bottom.firstSeries?!u.axes.bottom.firstSeries.yMandatory:!1;if(u){u.draw();if(u.series.items[0]instanceof Tee.Pie||c||!q){var C=document.documentElement,I=x?b.clientY+C.scrollTop:b.pageY,C=x?b.clientX+C.scrollLeft:b.pageX-s/2-10-d;a.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+h+" "+h+" transparent transparent;bottom: -"+2*d+"px;left: "+(t.getBoundingClientRect().width-2*d-f/2)+"px;}";e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+
(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" "+m+" transparent transparent;}"}else{var I=H?Math.round(u.axes.left.fromPos(b.layerY)):Math.round(u.axes.bottom.fromSizeCalcIndex(b.clientX-u.canvas.getBoundingClientRect().left-u.axes.bottom.startPos)),J=new p,F;if(b.target==u.canvas)for(var D=0;D<u.series.items.length;D++)C=H?Math.abs(u.series.items[D].data.values[I]-u.axes.bottom.fromPos(b.layerX)):Math.abs(u.series.items[D].data.values[I]-u.axes.left.fromPos(b.layerY)),
0==D?(F=C,u.series.items[D].calc(I,J)):C<F&&(u.series.items[D].calc(I,J),F=C);C=document.documentElement;F=t.style.marginTop.substring(0,t.style.marginTop.length-2);D=t.style.marginLeft.substring(0,t.style.marginLeft.length-2);I=Math.round(J.y+window.scrollY+u.canvas.getBoundingClientRect().top-t.getBoundingClientRect().height-d-F+f/2);C=Math.round(J.x+window.scrollX+u.canvas.getBoundingClientRect().left-t.getBoundingClientRect().width/2-D-f/2);C+s/2-A.x>A.width?(I=Math.round(J.y+window.scrollY+u.canvas.getBoundingClientRect().top-
t.getBoundingClientRect().height-2*d-F+f/2),C=Math.round(J.x+window.scrollX+u.canvas.getBoundingClientRect().left-t.getBoundingClientRect().width-D),v.borderRadius=n+"px "+n+"px 0px "+n+"px",a.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+h+" "+h+" transparent transparent;bottom: -"+2*d+"px;left: "+(t.getBoundingClientRect().width-2*d-f/2)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+
(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" "+m+" transparent transparent;}"):C-s/2<A.x?(C=Math.round(J.x+window.scrollX+u.canvas.getBoundingClientRect().left-D),I=Math.round(J.y+window.scrollY+u.canvas.getBoundingClientRect().top-t.getBoundingClientRect().height-2*d-F+f/2),v.borderRadius=n+"px "+n+"px "+n+"px 0px",a.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+h+" transparent transparent "+h+
";bottom: -"+2*d+"px;left: "+(0-f/2)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" transparent transparent "+m+";}"):C&&(v.borderRadius=n+"px "+n+"px "+n+"px "+n+"px",a.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+h+" transparent transparent transparent;bottom: -"+2*d+"px;left: "+(t.getBoundingClientRect().width/
2-d)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" transparent transparent transparent;}")}k&&k.pointer.visible&&(z(),I-=k.pointer.secondCircleRadius>k.pointer.firstCircleRadius?k.pointer.secondCircleRadius:k.pointer.firstCircleRadius)}else C=document.documentElement,I=x?b.clientY+C.scrollTop:b.pageY,C=x?b.clientX+C.scrollLeft:b.pageX-s/2-10-d}else d=0,c=!0,C=document.documentElement,
I=x?b.clientY+C.scrollTop:b.pageY,C=x?b.clientX+C.scrollLeft:b.pageX-s/2-10-d,a.innerHTML=".teetiparrow{width:0;height:0;border: "+d+"px solid;position: absolute;content: '';border-color: "+h+" "+h+" transparent transparent;bottom: -"+2*d+"px;left: "+(t.getBoundingClientRect().width-2*d-f/2)+"px;}",e.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(d-f/2)+"px;bottom: "+(f-(d-1))+"px; border: "+(d-f/2)+"px solid;border-color: "+m+" "+m+" transparent transparent;}";
0>I-w&&(I=w);0>C&&(C=0);if(q){A=q.offsetLeft;for(J=q;null!=J.offsetParent;)A+=J.offsetLeft,J=J.offsetParent;C>A+q.clientWidth-t.offsetWidth-25&&(C=A+q.clientWidth-t.offsetWidth-25)}c?(v.top=I-w+"px",v.left=C+3+"px"):(v.top=I+"px",v.left=C+"px")},fade:function(a){var b=r;if(97!==b&&1===a||0!==b&&-1===a){var c=10;10>97-b&&1==a?c=97-b:10>r&&-1==a&&(c=b);r=b+c*a;v.opacity=.01*r;x&&(v.filter="alpha(opacity="+r+")")}else clearInterval(t.timer),-1==a&&(v.display="none",document.onmousemove=null)},hide:function(){t&&
(clearInterval(t.timer),t.timer=setInterval(function(){Tee.DOMTip.fade(-1)},10),q&&q.chart&&q.chart.draw())}}}()}).call(this);function doubleTap(p){var H,s=0;p.canvas.addEventListener("touchend",function(S){var T=(new Date).getTime(),F=T-s;clearTimeout(H);600>F&&100<F?(p.zoom.reset(),p.draw()):H=setTimeout(function(){clearTimeout(H)},600);s=T;S.preventDefault()})}
function twoFingersZoom(p,H){var s=p.canvas,S,T=0,F=0,P=0,Y=0,L=0,M=0,Z=0,$=0,aa=0,X=0,ba=0,U=0,A=[],V,Q,R,N,K,D,O,W,z;V=!1;S=setInterval(function(){if(1<A.length){var s=0,s=A[0],b=A[1];V?(Q=s.pageX,N=b.pageX,R=s.pageY,K=b.pageY,Q>N&&(s=Q,Q=N,N=s),R>K&&(s=R,R=K,K=s),L=Q-D,Z=R-O,M=N-W,$=K-z,F=aa-L,Y=ba-Z,T=X-M,P=U-$,aa=L,ba=Z,X=M,U=$):(D=s.pageX,W=b.pageX,O=s.pageY,z=b.pageY,D>W&&(s=D,D=W,W=s),O>z&&(s=O,O=z,z=s),V=!0);if("both"==H.direction||"horizontal"==H.direction)s=p.axes.bottom.startPos+F,b=p.axes.bottom.endPos+
T,p.axes.top.calcMinMax(s,b),p.axes.bottom.calcMinMax(s,b),p.draw();if("both"==H.direction||"vertical"==H.direction)s=p.axes.left.startPos+Y,b=p.axes.left.endPos+P,p.axes.right.calcMinMax(s,b),p.axes.left.calcMinMax(s,b),p.draw()}},100);s.addEventListener("touchend",function(){V&&(V=!1);clearInterval(S)});s.addEventListener("touchmove",function(p){p.preventDefault();A=p.touches})};
